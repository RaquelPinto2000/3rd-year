{"ast":null,"code":"import _regeneratorRuntime from\"/home/couto/Desktop/Universidade/PEI/arc2-webapp/react_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/couto/Desktop/Universidade/PEI/arc2-webapp/react_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";/*!\n\n=========================================================\n* Argon Dashboard React - v1.1.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/argon-dashboard-react\n* Copyright 2019 Creative Tim (https://www.creative-tim.com)\n* Licensed under MIT (https://github.com/creativetimofficial/argon-dashboard-react/blob/master/LICENSE.md)\n\n* Coded by Creative Tim\n\n=========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\n*/import React from\"react\";import ImageGallery from'react-image-gallery';import\"../../assets/css/custom.css\";import JsmpegPlayer from'../../components/Players/JsmpegPlayer';// reactstrap components\nimport{Card,CardHeader,CardBody,Container,Row,Col,CardTitle,Button,UncontrolledCollapse,ButtonDropdown,DropdownToggle,DropdownMenu,DropdownItem,Badge}from\"reactstrap\";// core components\nimport Header from\"../../components/Headers/Header.js\";import Maps from\"./Maps_Component.js\";import{Redirect}from\"react-router-dom\";import UncontrolledAlert from\"reactstrap/lib/UncontrolledAlert\";import{isConstructorDeclaration}from\"typescript\";const PREFIX_URL='https://raw.githubusercontent.com/xiaolin/react-image-gallery/master/static/';const MEDIA_URL='/media/';const videoOptions={poster:'./big_buck_bunny_640x360.jpg'};const videoOverlayOptions={};let jsmpegPlayer=null;function fix_date(st){let date=st.split('T');let year=date[0];let time=date[1].split('.')[0];return year+\" \"+time;}class AccidentDetails extends React.Component{constructor(props){var _this;super(props);_this=this;this.get_data=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){var all,result_all,all_locations,i,ports,response,ress,carsResponse,result,resultee,resp,res,media;return _regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/list_accidents\");case 2:all=_context.sent;_context.next=5;return all.json();case 5:result_all=_context.sent;all_locations=[];for(i=0;i<result_all.length;i++){if(parseInt(result_all[i][\"id\"])!=parseInt(_this.props.match.params['id'])){all_locations.push({lat:result_all[i][\"location\"][\"lat\"],lng:result_all[i][\"location\"][\"lng\"],id:result_all[i][\"id\"],status:4});}}//carro acidentado\nall_locations.push({id:_this.props.match.params['id'],lat:_this.state.accident_data.location.coords.lat,lng:_this.state.accident_data.location.coords.lng,status:_this.state.accident_data.status});//ambulancia\nall_locations.push({id:_this.props.match.params['id'],lat:_this.state.accident_data.location.coords_amb.lat,lng:_this.state.accident_data.location.coords_amb.lng,status:3});if(_this.state.surrounding_cars!=undefined){for(i=0;i<_this.state.surrounding_cars.length;i++){all_locations.push({id:_this.state.surrounding_cars[i]['car_id'],lat:parseFloat(_this.state.surrounding_cars[i]['latitude']),lng:parseFloat(_this.state.surrounding_cars[i]['longitude']),id_acc:_this.props.match.params['id'],status:5});}}if(_this.state.surrounding_cameras!=undefined){for(i=0;i<_this.state.surrounding_cameras.length;i++){all_locations.push({id:_this.state.surrounding_cameras[i]['id'],lat:parseFloat(_this.state.surrounding_cameras[i]['latitude']),lng:parseFloat(_this.state.surrounding_cameras[i]['longitude']),id_acc:_this.props.match.params['id'],status:6});}}_this.all_locations=all_locations;_context.next=15;return fetch(\"/videos/\".concat(id));case 15:_context.next=17;return _context.sent.json();case 17:ports=_context.sent;_context.next=20;return fetch(\"/markers/\".concat(id));case 20:response=_context.sent;_context.next=23;return response.json();case 23:ress=_context.sent;_context.next=26;return fetch(\"/CarsMarkers/\".concat(id));case 26:_context.next=28;return _context.sent.json();case 28:carsResponse=_context.sent;_context.next=31;return fetch(\"/accident/\".concat(id));case 31:response=_context.sent;_context.next=34;return response.json();case 34:result=_context.sent;_context.next=37;return fetch(\"/ambulances_by_user\");case 37:response=_context.sent;_context.next=40;return response.json();case 40:resultee=_context.sent;console.log(resultee);//console.log(this.state.accident_data.location.coords_amb)\n_this.setState(prevState=>({accident_data:{car:result['cars'],location:{address:result['location']['address'],coords:{lat:result['location']['lat'],lng:result['location']['lng']},coords_amb:{lat:parseFloat(ress[\"lat\"]),lng:parseFloat(ress[\"lng\"])}},damage:result['damage'],date:fix_date(result['date']),n_cars_involved:result['n_cars_involved'],n_people_involved:result['n_people'],n_people_injured:parseInt(result['n_people_injured']),status:result['status']},live_ports:ports[id],surrounding_cars:carsResponse['carData'],surrounding_cameras:prevState.surrounding_cameras,video_total:parseInt(result['video_total,oca']),dropDownValue:_this.init_text_dropdown(parseInt(result['status'])),user_ambulances:resultee}));//console.log(parseFloat(result['location']['lat'])+parseFloat(ress[\"lat\"]))\nconsole.log(_this.state.user_ambulances);console.log(_this.state.ambulance);_context.next=47;return fetch(\"/Nmedia/\".concat(id,\"/photos\"));case 47:resp=_context.sent;_context.next=50;return resp.json();case 50:res=_context.sent;_this.numImg=parseInt(res);media=[];/*     const user_ambs = []\n    for(let i = 1; i < resultee.length; i++) {\n      user_ambs.push(resultee[i])\n    }\n    this.user_ambulances = user_ambs\n    console.log(this.user_ambulances) */if(_this.state.video_total>0){for(i=1;i<_this.state.video_total+1;i++){media.push({thumbnail:\"/media/\".concat(id,\"/video/\").concat(i,\"T.jpg\"),original:\"/media/\".concat(id,\"/video/\").concat(i,\"T.jpg\"),source:\"/media/\".concat(id,\"/video/\").concat(i,\".mp4\"),renderItem:_this._renderVideo.bind(_this)});}}else{media.push({thumbnail:\"/media/novideo.png\",original:\"/media/novideo.png\"});}for(i=0;i<_this.numImg;i++){media.push({thumbnail:\"/media/\".concat(id,\"/photos/\").concat(i,\".jpeg\"),original:\"/media/\".concat(id,\"/photos/\").concat(i,\".jpeg\")});}_this.setState(prevState=>_this.images=media);case 56:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();this.get_cameras=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var all_locations,camerasResponse,i;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:all_locations=_this.all_locations;_context2.next=3;return fetch(\"/CameraMarkers/\".concat(id));case 3:_context2.next=5;return _context2.sent.json();case 5:camerasResponse=_context2.sent;//console.log(camerasResponse)\n_this.setState(prevState=>({surrounding_cameras:camerasResponse['camData']}));//console.log(this.state.surrounding_cameras)\nif(_this.state.surrounding_cameras!=undefined){for(i=0;i<_this.state.surrounding_cameras.length;i++){all_locations.push({id:_this.state.surrounding_cameras[i]['id'],lat:parseFloat(_this.state.surrounding_cameras[i]['latitude']),lng:parseFloat(_this.state.surrounding_cameras[i]['longitude']),id_acc:_this.props.match.params['id'],status:6});}}_this.all_locations=all_locations;case 9:case\"end\":return _context2.stop();}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();this.renderAlertLives=(value,index)=>{return/*#__PURE__*/React.createElement(UncontrolledAlert,{color:\"success\",class:\"alert\"},/*#__PURE__*/React.createElement(\"span\",{className:\"alert-inner--icon\"},/*#__PURE__*/React.createElement(\"i\",{className:\"ni ni-like-2\"})),\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"alert-inner--text\"},/*#__PURE__*/React.createElement(\"strong\",null,\"A LIVESTREAM WAS FOUND!\")));};this.renderUserAmbs=(value,index)=>{var amb=\"amb\"+String(index);console.log(value+\"ola  \"+index);return/*#__PURE__*/React.createElement(\"option\",{value:amb},value);};this.renderLivestream=(value,index)=>{let port=String(value['port']).split(':')[2]-9000;if(port<1000){return/*#__PURE__*/React.createElement(CardBody,{className:\"border rounded\"},/*#__PURE__*/React.createElement(CardTitle,{tag:\"h4\",className:\"text-uppercase text-muted mb-0\"},\"Livestream \",index+1),/*#__PURE__*/React.createElement(CardBody,{className:\"align-content-center\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"span\",{className:\"font-weight-bold\"},\"Car id\"),/*#__PURE__*/React.createElement(\"span\",null,\": \",String(port))),/*#__PURE__*/React.createElement(Col,{lg:\"6\",xl:\"9\"},/*#__PURE__*/React.createElement(Card,{className:\"card-stats mb-4 mb-xl-0\"},/*#__PURE__*/React.createElement(CardBody,{className:\"border rounded border-info\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(JsmpegPlayer,{wrapperClassName:\"video-wrapper\",videoUrl:String(value['port']),options:videoOptions,overlayOptions:videoOverlayOptions,onRef:ref=>jsmpegPlayer=ref})),/*#__PURE__*/React.createElement(\"div\",{className:\"buttons-wrapper\"},/*#__PURE__*/React.createElement(Button,{onClick:()=>jsmpegPlayer.play()},\"Play\"),/*#__PURE__*/React.createElement(Button,{onClick:()=>jsmpegPlayer.pause()},\"Pause\"),/*#__PURE__*/React.createElement(Button,{onClick:()=>jsmpegPlayer.stop()},\"Stop\"))))))));}else{return/*#__PURE__*/React.createElement(CardBody,{className:\"border rounded\"},/*#__PURE__*/React.createElement(CardTitle,{tag:\"h4\",className:\"text-uppercase text-muted mb-0\"},\"Livestream \",index+1),/*#__PURE__*/React.createElement(CardBody,{className:\"align-content-center\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"span\",{className:\"font-weight-bold\"},\"Camera id\"),/*#__PURE__*/React.createElement(\"span\",null,\": \",String(port))),/*#__PURE__*/React.createElement(Col,{lg:\"6\",xl:\"9\"},/*#__PURE__*/React.createElement(Card,{className:\"card-stats mb-4 mb-xl-0\"},/*#__PURE__*/React.createElement(CardBody,{className:\"border rounded border-info\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(JsmpegPlayer,{wrapperClassName:\"video-wrapper\",videoUrl:String(value['port']),options:videoOptions,overlayOptions:videoOverlayOptions,onRef:ref=>jsmpegPlayer=ref})),/*#__PURE__*/React.createElement(\"div\",{className:\"buttons-wrapper\"},/*#__PURE__*/React.createElement(Button,{onClick:()=>jsmpegPlayer.play()},\"Play\"),/*#__PURE__*/React.createElement(Button,{onClick:()=>jsmpegPlayer.pause()},\"Pause\"),/*#__PURE__*/React.createElement(Button,{onClick:()=>jsmpegPlayer.stop()},\"Stop\"))))))));}};this.renderCars=(value,index)=>{return/*#__PURE__*/React.createElement(CardBody,{className:\"border rounded\"},/*#__PURE__*/React.createElement(CardTitle,{tag:\"h4\",className:\"text-uppercase text-muted mb-0\"},\"Car \",index+1),/*#__PURE__*/React.createElement(CardBody,{className:\"align-content-center\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"span\",{className:\"font-weight-bold\"},\"Activated ABS\"),/*#__PURE__*/React.createElement(\"span\",null,\": \",String(value['ABS']))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"span\",{className:\"font-weight-bold\"},\"Fired Airbag\"),/*#__PURE__*/React.createElement(\"span\",null,\": \",String(value['airbag']))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"span\",{className:\"font-weight-bold\"},\"Passengers\"),/*#__PURE__*/React.createElement(\"span\",null,\": \",value['n_people'],\" \")),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"span\",{className:\"font-weight-bold\"},\"Overturned\"),/*#__PURE__*/React.createElement(\"span\",null,\": \",String(value['overturned']))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"span\",{className:\"font-weight-bold\"},\"Temperature\"),/*#__PURE__*/React.createElement(\"span\",null,\": \",value['temperature'])),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"span\",{className:\"font-weight-bold\"},\"Collision velocity\"),/*#__PURE__*/React.createElement(\"span\",null,\": \",value['velocity']))));};this.onGoBack=()=>{return/*#__PURE__*/React.createElement(Redirect,{to:\"/admin/accidents\"});};this.handleClick=(e,id,value)=>{e.preventDefault();let new_injured=this.state.accident_data.n_people_injured+value;if(new_injured>=0){this.setState(()=>this.state.accident_data.n_people_injured=new_injured);this.set_injured(id,new_injured);}};this.getSelectValue=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var selectedValue,amb_id,id;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:selectedValue=document.getElementById(\"ambs\");amb_id=selectedValue.options[selectedValue.selectedIndex].text;console.log(amb_id);_context3.next=5;return _this.myChangeHandler(amb_id);case 5:console.log(\"asdasd\"+_this.state.ambulance);_this.updateDBToSelectedStatus(\"Emergency services are on their way\");id=_this.props.match.params['id'];fetch(\"/markers/\".concat(id),{method:\"POST\",cache:\"no-cache\",headers:{\"content-type\":\"application/json\"},body:JSON.stringify({\"ambulance\":_this.state.ambulance})}).then(response=>{return response.json();}).then(json=>{_this.setState({ambulance:json[0]});});case 9:case\"end\":return _context3.stop();}},_callee3);}));this.mySubmitHandler=(e,id)=>{e.preventDefault();alert(\"You are submitting \"+this.state.ambulance);//this.init_text_dropdown(1);\n//this.changeValue(\"Emergency services are on their way\");\nthis.updateDBToSelectedStatus(\"Emergency services are on their way\");fetch(\"/markers/\".concat(id),{method:\"POST\",cache:\"no-cache\",headers:{\"content-type\":\"application/json\"},body:JSON.stringify({\"ambulance\":this.state.ambulance})}).then(response=>{return response.json();}).then(json=>{this.setState({ambulance:json[0]});});};this.myChangeHandler=amb_id=>{this.setState({ambulance:amb_id});};this.timer=null;this.toggle=this.toggle.bind(this);this.changeValue=this.changeValue.bind(this);this.all_locations=[];this.state={ambulance:0,user_ambulances:[],showIndex:false,showBullets:true,infinite:true,showThumbnails:true,showFullscreenButton:true,showGalleryFullscreenButton:true,showPlayButton:false,showGalleryPlayButton:false,showNav:true,isRTL:false,slideDuration:5,slideInterval:2000,slideOnThumbnailOver:false,thumbnailPosition:'left',showVideo:{},video_total:0,photos_total:0,accident_data:{car:[],location:{address:\" \",coords:{lat:40,lng:30},coords_amb:{lat:40,lng:30}},damage:0.0,date:\" \",n_cars_involved:0,n_people_involved:0,n_people_injured:0},live_ports:[],dropDownValue:0,dropDownOpen:false};this.numImg=0;this.images=[{thumbnail:\"\",original:\"\",source:'',renderItem:this._renderVideo.bind(this)},{original:\"\",thumbnail:\"\",imageSet:[{srcSet:\"\".concat(PREFIX_URL,\"image_set_cropped.jpg\"),media:'(max-width: 1280px)'},{srcSet:\"\".concat(PREFIX_URL,\"image_set_default.jpg\"),media:'(min-width: 1280px)'}]},{original:\"\".concat(PREFIX_URL,\"1.jpg\"),thumbnail:\"\".concat(PREFIX_URL,\"1t.jpg\"),originalClass:'featured-slide',thumbnailClass:'featured-thumb'}];}//sempre que a pagina é atualizada esta funcao e chamada -> faz pedidos\ncomponentDidMount(){let id=this.props.match.params['id'];this.get_data(id);this.get_cameras(id);// get cameras only once\nthis.timer=setInterval(()=>this.get_data(id),1000);//5000\n}componentDidUpdate(prevProps,prevState){if(this.state.slideInterval!==prevState.slideInterval||this.state.slideDuration!==prevState.slideDuration){// refresh setInterval\nthis._imageGallery.pause();this._imageGallery.play();};}componentWillUnmount(){clearInterval(this.timer);this.timer=null;}_onImageClick(event){console.debug('clicked on image',event.target,'at index',this._imageGallery.getCurrentIndex());}_onImageLoad(event){console.debug('loaded image',event.target.src);}_onSlide(index){this._resetVideo();console.debug('slid to index',index);}_onPause(index){console.debug('paused on index',index);}_onScreenChange(fullScreenElement){console.debug('isFullScreen?',!!fullScreenElement);}_onPlay(index){console.debug('playing from index',index);}_resetVideo(){this.setState({showVideo:{}});if(this.state.showPlayButton){this.setState({showGalleryPlayButton:true});}if(this.state.showFullscreenButton){this.setState({showGalleryFullscreenButton:true});}}_toggleShowVideo(url){this.state.showVideo[url]=!Boolean(this.state.showVideo[url]);this.setState({showVideo:this.state.showVideo});if(this.state.showVideo[url]){if(this.state.showPlayButton){this.setState({showGalleryPlayButton:false});}if(this.state.showFullscreenButton){this.setState({showGalleryFullscreenButton:false});}}}_renderVideo(item){return/*#__PURE__*/React.createElement(\"div\",null,this.state.showVideo[item.source]?/*#__PURE__*/React.createElement(\"div\",{className:\"video-wrapper\"},/*#__PURE__*/React.createElement(\"a\",{className:\"close-video\",onClick:this._toggleShowVideo.bind(this,item.source)}),/*#__PURE__*/React.createElement(\"video\",{autoPlay:true,controls:true},\"// width='100%' // height='100%'\",/*#__PURE__*/React.createElement(\"source\",{src:item.source,type:\"video/mp4\"}),\"// frameBorder='0' // allowFullScreen\")):/*#__PURE__*/React.createElement(\"a\",{onClick:this._toggleShowVideo.bind(this,item.source)},/*#__PURE__*/React.createElement(\"div\",{className:\"play-button\"}),/*#__PURE__*/React.createElement(\"img\",{className:\"image-gallery-image\",src:item.original}),item.description&&/*#__PURE__*/React.createElement(\"span\",{className:\"image-gallery-description\",style:{right:'0',left:'initial',height:'100%'}},item.description)));}/* Status dropdown functions */toggle(){this.setState({dropDownOpen:!this.state.dropDownOpen});}changeValue(e){this.updateDBToSelectedStatus(e.currentTarget.textContent);this.setState({dropDownValue:e.currentTarget.textContent});}getBarColor(damage){if(damage<30){return\"h2 font-weight-bold mb-0 text-success\";}else if(damage<45){return\"h2 font-weight-bold mb-0 text-teal\";}else if(damage<75){return\"h2 font-weight-bold mb-0 text-orange\";}else{return\"h2 font-weight-bold mb-0 text-red\";}}setStatusColor(){if(this.state.dropDownValue===\"Accident resolved\"){return/*#__PURE__*/React.createElement(Badge,{color:\"\",className:\"badge-dot badge-lg\"},/*#__PURE__*/React.createElement(\"i\",{className:\"bg-lime\"}));}if(this.state.dropDownValue===\"Emergency services are on their way\"){return/*#__PURE__*/React.createElement(Badge,{color:\"\",className:\"badge-dot badge-lg\"},/*#__PURE__*/React.createElement(\"i\",{className:\"bg-yellow\"}));}else{return/*#__PURE__*/React.createElement(Badge,{color:\"\",className:\"badge-dot badge-lg\"},/*#__PURE__*/React.createElement(\"i\",{className:\"bg-red\"}));}}init_text_dropdown(id){if(id===2){return\"Accident resolved\";}else if(id===1){return\"Emergency services are on their way\";}else{return\"Accident still not answered\";}}updateDBToSelectedStatus(value){if(value===\"Accident resolved\"){fetch(\"/set_accident_status/\".concat(this.props.match.params['id']),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({\"status\":2})});}if(value===\"Emergency services are on their way\"){fetch(\"/set_accident_status/\".concat(this.props.match.params['id']),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({\"status\":1})});}else{fetch(\"/set_accident_status/\".concat(this.props.match.params['id']),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({\"status\":0})});}}set_injured(id,value){fetch(\"/set_accident_injured/\".concat(id),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({\"injured\":\"\".concat(value)})});}render(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(Container,{className:\" mt--7\",fluid:true},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{className:\" col\"},/*#__PURE__*/React.createElement(Card,{className:\" shadow\"},/*#__PURE__*/React.createElement(CardHeader,{className:\" bg-transparent\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(Button,{className:\"icon icon-shape bg-info text-white rounded-circle shadow\",href:\"/#admin/accidents\",onClick:this.onGoBack()},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-angle-left\"})),/*#__PURE__*/React.createElement(\"h2\",{className:\" mt-2 ml-4 \"},\"Accident Details\"))),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-end\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mr-2\"},this.setStatusColor()),/*#__PURE__*/React.createElement(\"div\",{className:\"mr-2 \"},/*#__PURE__*/React.createElement(ButtonDropdown,{className:\"dropdown-width\",isOpen:this.state.dropDownOpen,toggle:this.toggle},/*#__PURE__*/React.createElement(DropdownToggle,{caret:true},this.state.dropDownValue),/*#__PURE__*/React.createElement(DropdownMenu,{right:true},/*#__PURE__*/React.createElement(DropdownItem,{onClick:this.changeValue},\"Accident still not answered\"),/*#__PURE__*/React.createElement(DropdownItem,{onClick:this.changeValue},\"Emergency services are on their way\"),/*#__PURE__*/React.createElement(DropdownItem,{onClick:this.changeValue},\"Accident resolved\")))))))),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Row,{className:\"h-75 \"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"img\",{src:require(\"../../assets/img/brand/accident_2021.png\"),style:{height:\"100%\",width:\"100%\"}}))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"Address:\"),\" \",this.state.accident_data.location.address))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm\"},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"Lat:\"),\" \",this.state.accident_data.location.coords.lat)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm\"},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"Lng:\"),\" \",this.state.accident_data.location.coords.lng)))),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(ImageGallery,{ref:i=>this._imageGallery=i,items:this.images,lazyLoad:false,onClick:this._onImageClick.bind(this),onImageLoad:this._onImageLoad,onSlide:this._onSlide.bind(this),onPause:this._onPause.bind(this),onScreenChange:this._onScreenChange.bind(this),onPlay:this._onPlay.bind(this),infinite:this.state.infinite,showBullets:this.state.showBullets,showFullscreenButton:this.state.showFullscreenButton&&this.state.showGalleryFullscreenButton,showPlayButton:this.state.showPlayButton&&this.state.showGalleryPlayButton,showThumbnails:this.state.showThumbnails,showIndex:this.state.showIndex,showNav:this.state.showNav,isRTL:this.state.isRTL,thumbnailPosition:this.state.thumbnailPosition,slideDuration:parseInt(this.state.slideDuration),slideInterval:parseInt(this.state.slideInterval),slideOnThumbnailOver:this.state.slideOnThumbnailOver,additionalClass:\"app-image-gallery\"})))),/*#__PURE__*/React.createElement(Maps,{markers:this.all_locations,origem:this.state.accident_data.location.coords,destino:this.state.accident_data.location.coords_amb,googleMapURL:\"https://maps.googleapis.com/maps/api/js?key=AIzaSyA03XhgCxn-V9TsghBLpQ8LaScQLPgIJxs\",loadingElement:/*#__PURE__*/React.createElement(\"div\",{style:{height:\"100%\"}}),center:this.state.accident_data.location.coords//center = {this.state.accident_data.location.coords_amb}\n,zoom:17,containerElement:/*#__PURE__*/React.createElement(\"div\",{className:\"map-canvas\",id:\"map-canvas\"}),mapElement:/*#__PURE__*/React.createElement(\"div\",{style:{height:\"100%\",borderRadius:\"inherit\"}})}),/*#__PURE__*/React.createElement(CardHeader,null,/*#__PURE__*/React.createElement(\"h3\",null,\" \")),this.state.live_ports.map(this.renderAlertLives),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"6\",xl:\"3\"},/*#__PURE__*/React.createElement(Card,{className:\"card-stats mb-4 mb-xl-0\"},/*#__PURE__*/React.createElement(CardBody,{className:\"border rounded border-info\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(CardTitle,{tag:\"h5\",className:\"text-uppercase text-muted mb-0\"},\"Number of cars involved\"),/*#__PURE__*/React.createElement(\"span\",{className:\"h2 font-weight-bold mb-0\"},this.state.accident_data.n_cars_involved)),/*#__PURE__*/React.createElement(Col,{className:\"col-auto\"},/*#__PURE__*/React.createElement(Button,{className:\"icon icon-shape bg-success text-dark rounded-circle shadow\",id:\"toggler\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-car\"}))))))),/*#__PURE__*/React.createElement(Col,{lg:\"6\",xl:\"3\"},/*#__PURE__*/React.createElement(Card,{className:\"card-stats mb-4 mb-xl-0\"},/*#__PURE__*/React.createElement(CardBody,{className:\"border rounded border-info\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(CardTitle,{tag:\"h5\",className:\"text-uppercase text-muted mb-0\"},\"Number of persons involved\"),/*#__PURE__*/React.createElement(\"span\",{className:\"h2 font-weight-bold mb-0\"},this.state.accident_data.n_people_involved)),/*#__PURE__*/React.createElement(Col,{className:\"col-auto\"},/*#__PURE__*/React.createElement(\"div\",{className:\"icon icon-shape bg-info text-dark rounded-circle shadow\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-users\"}))))))),/*#__PURE__*/React.createElement(Col,{lg:\"6\",xl:\"3\"},/*#__PURE__*/React.createElement(Card,{className:\"card-stats mb-4 mb-xl-0\"},/*#__PURE__*/React.createElement(CardBody,{className:\"border rounded border-info\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(CardTitle,{tag:\"h5\",className:\"text-uppercase text-muted mb-0\"},\"Number of persons injured\"),/*#__PURE__*/React.createElement(\"span\",{className:\"h2 font-weight-bold mb-0\"},/*#__PURE__*/React.createElement(Button,{className:\" icon-sm icon-shapesm bg-warning text-dark shadow\",onClick:e=>this.handleClick(e,this.props.match.params['id'],-1)},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-minus\"})),this.state.accident_data.n_people_injured,/*#__PURE__*/React.createElement(Button,{className:\" icon-sm icon-shapesm bg-success text-dark shadow\",onClick:e=>this.handleClick(e,this.props.match.params['id'],1)},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-plus\"})))),/*#__PURE__*/React.createElement(Col,{className:\"col-auto\"},/*#__PURE__*/React.createElement(\"div\",{className:\"icon icon-shape bg-danger text-dark rounded-circle shadow\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-user-injured\"}))))))),/*#__PURE__*/React.createElement(Col,{lg:\"6\",xl:\"3\"},/*#__PURE__*/React.createElement(Card,{className:\"card-stats mb-4 mb-xl-0\"},/*#__PURE__*/React.createElement(CardBody,{className:\"border rounded border-info\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(CardTitle,{tag:\"h5\",className:\"text-uppercase text-muted mb-0\"},\"Severity of the accident\"),/*#__PURE__*/React.createElement(\"span\",{className:this.getBarColor(this.state.accident_data.damage)},this.state.accident_data.damage)),/*#__PURE__*/React.createElement(Col,{className:\"col-auto\"},/*#__PURE__*/React.createElement(\"div\",{className:\"icon icon-shape bg-yellow text-dark rounded-circle shadow\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-exclamation-triangle\"}))))))),/*#__PURE__*/React.createElement(Col,{lg:\"6\",xl:\"3\"},/*#__PURE__*/React.createElement(Card,{className:\"card-stats mb-4 mb-xl-0\"},/*#__PURE__*/React.createElement(CardBody,{className:\"border rounded border-info\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(CardTitle,{tag:\"h5\",className:\"text-uppercase text-muted mb-0\"},\"Livestreams\"),/*#__PURE__*/React.createElement(\"span\",{className:\"h2 font-weight-bold mb-0\"},this.state.live_ports.length)),/*#__PURE__*/React.createElement(Col,{className:\"col-auto\"},/*#__PURE__*/React.createElement(Button,{className:\"icon icon-shape bg-success text-dark rounded-circle shadow\",id:\"togglerLives\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-video\"}))))))),/*#__PURE__*/React.createElement(Col,{lg:\"6\",xl:\"3\"},/*#__PURE__*/React.createElement(Card,{className:\"card-stats mb-4 mb-xl-0\"},/*#__PURE__*/React.createElement(CardBody,{className:\"border rounded border-info\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(CardTitle,{tag:\"h5\",className:\"text-uppercase text-muted mb-0\"},\"Choose an Ambulance\")),/*#__PURE__*/React.createElement(Col,{className:\"col-auto\"},/*#__PURE__*/React.createElement(\"select\",{name:\"ambs\",id:\"ambs\",onChange:this.getSelectValue,class:\"btn btn-secondary dropdown-toggle\",type:\"button\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\"},/*#__PURE__*/React.createElement(\"option\",{value:\"amb0\"},\"0\"),this.state.user_ambulances.map(this.renderUserAmbs)))))))),/*#__PURE__*/React.createElement(UncontrolledCollapse,{toggler:\"#toggler\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Row,null,this.state.accident_data[\"car\"].map(this.renderCars))))),/*#__PURE__*/React.createElement(UncontrolledCollapse,{toggler:\"#togglerLives\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Row,null,this.state.live_ports.map(this.renderLivestream)))))))))));}}export default AccidentDetails;","map":{"version":3,"sources":["/home/couto/Desktop/Universidade/PEI/arc2-webapp/react_frontend/src/views/examples/AccidentDetails.js"],"names":["React","ImageGallery","JsmpegPlayer","Card","CardHeader","CardBody","Container","Row","Col","CardTitle","Button","UncontrolledCollapse","ButtonDropdown","DropdownToggle","DropdownMenu","DropdownItem","Badge","Header","Maps","Redirect","UncontrolledAlert","isConstructorDeclaration","PREFIX_URL","MEDIA_URL","videoOptions","poster","videoOverlayOptions","jsmpegPlayer","fix_date","st","date","split","year","time","AccidentDetails","Component","constructor","props","get_data","id","fetch","all","json","result_all","all_locations","i","length","parseInt","match","params","push","lat","lng","status","state","accident_data","location","coords","coords_amb","surrounding_cars","undefined","parseFloat","id_acc","surrounding_cameras","ports","response","ress","carsResponse","result","resultee","console","log","setState","prevState","car","address","damage","n_cars_involved","n_people_involved","n_people_injured","live_ports","video_total","dropDownValue","init_text_dropdown","user_ambulances","ambulance","resp","res","numImg","media","thumbnail","original","source","renderItem","_renderVideo","bind","images","get_cameras","camerasResponse","renderAlertLives","value","index","renderUserAmbs","amb","String","renderLivestream","port","ref","play","pause","stop","renderCars","onGoBack","handleClick","e","preventDefault","new_injured","set_injured","getSelectValue","selectedValue","document","getElementById","amb_id","options","selectedIndex","text","myChangeHandler","updateDBToSelectedStatus","method","cache","headers","body","JSON","stringify","then","mySubmitHandler","alert","timer","toggle","changeValue","showIndex","showBullets","infinite","showThumbnails","showFullscreenButton","showGalleryFullscreenButton","showPlayButton","showGalleryPlayButton","showNav","isRTL","slideDuration","slideInterval","slideOnThumbnailOver","thumbnailPosition","showVideo","photos_total","dropDownOpen","imageSet","srcSet","originalClass","thumbnailClass","componentDidMount","setInterval","componentDidUpdate","prevProps","_imageGallery","componentWillUnmount","clearInterval","_onImageClick","event","debug","target","getCurrentIndex","_onImageLoad","src","_onSlide","_resetVideo","_onPause","_onScreenChange","fullScreenElement","_onPlay","_toggleShowVideo","url","Boolean","item","description","right","left","height","currentTarget","textContent","getBarColor","setStatusColor","render","require","width","borderRadius","map"],"mappings":"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","sourcesContent":["/*!\n\n=========================================================\n* Argon Dashboard React - v1.1.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/argon-dashboard-react\n* Copyright 2019 Creative Tim (https://www.creative-tim.com)\n* Licensed under MIT (https://github.com/creativetimofficial/argon-dashboard-react/blob/master/LICENSE.md)\n\n* Coded by Creative Tim\n\n=========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\n*/\nimport React from \"react\";\nimport ImageGallery from 'react-image-gallery';\nimport \"../../assets/css/custom.css\"\nimport JsmpegPlayer from '../../components/Players/JsmpegPlayer';\n\n\n\n// reactstrap components\nimport {\n  Card,\n  CardHeader,\n  CardBody,\n  Container,\n  Row,\n  Col,\n  CardTitle,\n  Button,\n  UncontrolledCollapse,\n  ButtonDropdown,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem, Badge\n} from \"reactstrap\";\n// core components\nimport Header from \"../../components/Headers/Header.js\";\nimport Maps from \"./Maps_Component.js\";\nimport { Redirect } from \"react-router-dom\";\nimport UncontrolledAlert from \"reactstrap/lib/UncontrolledAlert\";\nimport { isConstructorDeclaration } from \"typescript\";\n\nconst PREFIX_URL = 'https://raw.githubusercontent.com/xiaolin/react-image-gallery/master/static/';\nconst MEDIA_URL = '/media/'\n\nconst videoOptions = {\n  poster: './big_buck_bunny_640x360.jpg'\n};\n\nconst videoOverlayOptions = {};\n\nlet jsmpegPlayer = null;\n\nfunction fix_date(st) {\n  let date = st.split('T');\n  let year = date[0];\n  let time = date[1].split('.')[0];\n  return year + \" \" + time;\n}\n\nclass AccidentDetails extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.timer = null;\n\n    this.toggle = this.toggle.bind(this);\n    this.changeValue = this.changeValue.bind(this);\n\n    this.all_locations = [];\n\n    this.state = {\n      ambulance: 0,\n      user_ambulances: [],\n      showIndex: false,\n      showBullets: true,\n      infinite: true,\n      showThumbnails: true,\n      showFullscreenButton: true,\n      showGalleryFullscreenButton: true,\n      showPlayButton: false,\n      showGalleryPlayButton: false,\n      showNav: true,\n      isRTL: false,\n      slideDuration: 5,\n      slideInterval: 2000,\n      slideOnThumbnailOver: false,\n      thumbnailPosition: 'left',\n      showVideo: {},\n      video_total: 0,\n      photos_total: 0,\n      accident_data: {\n        car: [],\n        location: {\n          address: \" \",\n          coords: { lat: 40, lng: 30 },\n          coords_amb: { lat: 40, lng: 30 },\n        },\n        damage: 0.0,\n        date: \" \",\n        n_cars_involved: 0,\n        n_people_involved: 0,\n        n_people_injured: 0,\n      },\n      live_ports: [],\n      dropDownValue: 0,\n      dropDownOpen: false,\n    };\n    this.numImg = 0\n    this.images = [\n      {\n        thumbnail: ``,\n        original: ``,\n        source: '',\n        renderItem: this._renderVideo.bind(this)\n      },\n      {\n        original: ``,\n        thumbnail: ``,\n        imageSet: [\n          {\n            srcSet: `${PREFIX_URL}image_set_cropped.jpg`,\n            media: '(max-width: 1280px)',\n          },\n          {\n            srcSet: `${PREFIX_URL}image_set_default.jpg`,\n            media: '(min-width: 1280px)',\n          }\n        ]\n      },\n      {\n        original: `${PREFIX_URL}1.jpg`,\n        thumbnail: `${PREFIX_URL}1t.jpg`,\n        originalClass: 'featured-slide',\n        thumbnailClass: 'featured-thumb',\n      }\n    ]\n  }\n\n  //sempre que a pagina é atualizada esta funcao e chamada -> faz pedidos\n\n  get_data = async (id) => {\n\n    let all = await fetch(\n      `/list_accidents`);\n    let result_all = await all.json();\n    let all_locations = [];\n    for (let i = 0; i < result_all.length; i++) {\n      if (parseInt(result_all[i][\"id\"]) != parseInt(this.props.match.params['id'])) {\n        all_locations.push(\n          {\n            lat: result_all[i][\"location\"][\"lat\"],\n            lng: result_all[i][\"location\"][\"lng\"],\n            id: result_all[i][\"id\"],\n            status: 4\n          }\n        )\n      }\n    }\n    //carro acidentado\n    all_locations.push(\n      {\n        id: this.props.match.params['id'],\n        lat: this.state.accident_data.location.coords.lat,\n        lng: this.state.accident_data.location.coords.lng,\n        status: this.state.accident_data.status\n      }\n    )\n    //ambulancia\n    all_locations.push(\n      {\n        id: this.props.match.params['id'],\n        lat: this.state.accident_data.location.coords_amb.lat,\n        lng: this.state.accident_data.location.coords_amb.lng,\n        status: 3\n      }\n    )\n\n    if (this.state.surrounding_cars != undefined) {\n      for (let i = 0; i < this.state.surrounding_cars.length; i++) {\n        all_locations.push(\n          {\n            id: this.state.surrounding_cars[i]['car_id'],\n            lat: parseFloat(this.state.surrounding_cars[i]['latitude']),\n            lng: parseFloat(this.state.surrounding_cars[i]['longitude']),\n            id_acc: this.props.match.params['id'],\n            status: 5\n          }\n        )\n      }\n    }\n\n    if (this.state.surrounding_cameras != undefined) {\n      for (let i = 0; i < this.state.surrounding_cameras.length; i++) {\n        all_locations.push(\n          {\n            id: this.state.surrounding_cameras[i]['id'],\n            lat: parseFloat(this.state.surrounding_cameras[i]['latitude']),\n            lng: parseFloat(this.state.surrounding_cameras[i]['longitude']),\n            id_acc: this.props.match.params['id'],\n            status: 6\n          }\n        )\n      }\n    }\n\n    this.all_locations = all_locations;\n\n    let ports = await (await fetch(`/videos/${id}`)).json();\n\n    let response = await fetch(\n      `/markers/${id}`);\n    let ress = await response.json();\n\n    let carsResponse = await (await fetch(`/CarsMarkers/${id}`)).json();\n\n    response = await fetch(\n      `/accident/${id}`);\n    let result = await response.json();\n\n    response = await fetch(\n      `/ambulances_by_user`);\n    let resultee = await response.json();\n\n    \n    console.log(resultee)\n\n    //console.log(this.state.accident_data.location.coords_amb)\n    this.setState(prevState => (\n      {\n        accident_data: {\n          car: result['cars'],\n          location:\n          {\n            address: result['location']['address'],\n            coords: { lat: result['location']['lat'], lng: result['location']['lng'] },\n            coords_amb: { lat: parseFloat(ress[\"lat\"]), lng: parseFloat(ress[\"lng\"]) }\n          },\n          damage: result['damage'],\n          date: fix_date(result['date']),\n          n_cars_involved: result['n_cars_involved'],\n          n_people_involved: result['n_people'],\n          n_people_injured: parseInt(result['n_people_injured']),\n          status: result['status']\n        },\n        live_ports: ports[id],\n        surrounding_cars: carsResponse['carData'],\n        surrounding_cameras: prevState.surrounding_cameras,\n        video_total: parseInt(result['video_total,oca']),\n        dropDownValue: this.init_text_dropdown(parseInt(result['status'])),\n        user_ambulances: resultee\n      }\n    ));\n    //console.log(parseFloat(result['location']['lat'])+parseFloat(ress[\"lat\"]))\n    console.log(this.state.user_ambulances)\n    console.log(this.state.ambulance)\n\n    const resp = await fetch(\n      `/Nmedia/${id}/photos`);\n    const res = await resp.json();\n    this.numImg = parseInt(res)\n    const media = []\n/*     const user_ambs = []\n    for(let i = 1; i < resultee.length; i++) {\n      user_ambs.push(resultee[i])\n    }\n    this.user_ambulances = user_ambs\n    console.log(this.user_ambulances) */\n    if (this.state.video_total > 0) {\n      for (let i = 1; i < this.state.video_total + 1; i++) {\n        media.push({\n          thumbnail: `/media/${id}/video/${i}T.jpg`,\n          original: `/media/${id}/video/${i}T.jpg`,\n          source: `/media/${id}/video/${i}.mp4`,\n          renderItem: this._renderVideo.bind(this)\n        })\n      }\n    } else {\n      media.push({\n        thumbnail: `/media/novideo.png`,\n        original: `/media/novideo.png`\n      })\n    }\n    for (let i = 0; i < this.numImg; i++) {\n      media.push({\n        thumbnail: `/media/${id}/photos/${i}.jpeg`,\n        original: `/media/${id}/photos/${i}.jpeg`\n      })\n    }\n\n    this.setState(prevState => (\n      this.images = media\n    ));\n\n\n\n  }\n\n  get_cameras = async (id) => {\n\n    let all_locations = this.all_locations;\n    let camerasResponse = await (await fetch(`/CameraMarkers/${id}`)).json();\n\n    //console.log(camerasResponse)\n\n    this.setState(prevState => (\n      {\n        surrounding_cameras: camerasResponse['camData']\n      }\n    ));\n\n    //console.log(this.state.surrounding_cameras)\n\n    if (this.state.surrounding_cameras != undefined) {\n      for (let i = 0; i < this.state.surrounding_cameras.length; i++) {\n        all_locations.push(\n          {\n            id: this.state.surrounding_cameras[i]['id'],\n            lat: parseFloat(this.state.surrounding_cameras[i]['latitude']),\n            lng: parseFloat(this.state.surrounding_cameras[i]['longitude']),\n            id_acc: this.props.match.params['id'],\n            status: 6\n          }\n        )\n      }\n    }\n\n    this.all_locations = all_locations;\n  }\n\n  componentDidMount() {\n    let id = this.props.match.params['id']\n    this.get_data(id)\n    this.get_cameras(id)  // get cameras only once\n    this.timer = setInterval(() => this.get_data(id), 1000) //5000\n\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.slideInterval !== prevState.slideInterval ||\n      this.state.slideDuration !== prevState.slideDuration) {\n      // refresh setInterval\n      this._imageGallery.pause();\n      this._imageGallery.play();\n    };\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timer)\n    this.timer = null\n  }\n\n\n  renderAlertLives = (value, index) => {\n\n    return (\n      <UncontrolledAlert color=\"success\" class=\"alert\">\n        <span className=\"alert-inner--icon\">\n          <i className=\"ni ni-like-2\" />\n        </span>{\" \"}\n        <span className=\"alert-inner--text\">\n          <strong>A LIVESTREAM WAS FOUND!</strong>\n        </span>\n      </UncontrolledAlert>\n    )\n  }\n\n  renderUserAmbs = (value,index) => {\n    var amb = \"amb\"+String(index)\n    console.log(value+\"ola  \"+index)\n    return (\n      <option value={amb} >{value}</option>\n    )\n  }\n\n  renderLivestream = (value, index) => {\n\n    let port = String(value['port']).split(':')[2] - 9000;\n    if (port < 1000) {\n      return (\n\n        <CardBody className=\"border rounded\">\n          <CardTitle\n            tag=\"h4\"\n            className=\"text-uppercase text-muted mb-0\"\n          >\n            Livestream {index + 1}\n          </CardTitle>\n\n          <CardBody className=\"align-content-center\">\n            <Row>\n              <span className=\"font-weight-bold\">Car id</span>\n              <span>: {String(port)}</span>\n            </Row>\n            <Col lg=\"6\" xl=\"9\">\n              <Card className=\"card-stats mb-4 mb-xl-0\">\n                <CardBody className=\"border rounded border-info\">\n                  <Row>\n                    <div>\n                      <JsmpegPlayer\n                        wrapperClassName=\"video-wrapper\"\n                        videoUrl={String(value['port'])}\n                        options={videoOptions}\n                        overlayOptions={videoOverlayOptions}\n                        onRef={ref => jsmpegPlayer = ref}\n                      />\n                    </div>\n                    <div className=\"buttons-wrapper\">\n                      <Button onClick={() => jsmpegPlayer.play()}>Play</Button>\n                      <Button onClick={() => jsmpegPlayer.pause()}>Pause</Button>\n                      <Button onClick={() => jsmpegPlayer.stop()}>Stop</Button>\n                    </div>\n                  </Row>\n                </CardBody>\n              </Card>\n            </Col>\n          </CardBody>\n        </CardBody>\n      )\n    } else {\n      return (\n\n        <CardBody className=\"border rounded\">\n          <CardTitle\n            tag=\"h4\"\n            className=\"text-uppercase text-muted mb-0\"\n          >\n            Livestream {index + 1}\n          </CardTitle>\n\n          <CardBody className=\"align-content-center\">\n            <Row>\n              <span className=\"font-weight-bold\">Camera id</span>\n              <span>: {String(port)}</span>\n            </Row>\n            <Col lg=\"6\" xl=\"9\">\n              <Card className=\"card-stats mb-4 mb-xl-0\">\n                <CardBody className=\"border rounded border-info\">\n                  <Row>\n                    <div>\n                      <JsmpegPlayer\n                        wrapperClassName=\"video-wrapper\"\n                        videoUrl={String(value['port'])}\n                        options={videoOptions}\n                        overlayOptions={videoOverlayOptions}\n                        onRef={ref => jsmpegPlayer = ref}\n                      />\n                    </div>\n                    <div className=\"buttons-wrapper\">\n                      <Button onClick={() => jsmpegPlayer.play()}>Play</Button>\n                      <Button onClick={() => jsmpegPlayer.pause()}>Pause</Button>\n                      <Button onClick={() => jsmpegPlayer.stop()}>Stop</Button>\n                    </div>\n                  </Row>\n                </CardBody>\n              </Card>\n            </Col>\n          </CardBody>\n        </CardBody>\n      )\n    }\n  }\n\n  renderCars = (value, index) => {\n\n    return (\n      <CardBody className=\"border rounded\">\n        <CardTitle\n          tag=\"h4\"\n          className=\"text-uppercase text-muted mb-0\"\n        >\n          Car {index + 1}\n        </CardTitle>\n        <CardBody className=\"align-content-center\">\n          <Row>\n            <span className=\"font-weight-bold\">Activated ABS</span>\n            <span>: {String(value['ABS'])}</span>\n          </Row>\n          <Row>\n            <span className=\"font-weight-bold\">Fired Airbag</span>\n            <span>: {String(value['airbag'])}</span>\n          </Row>\n          <Row>\n            <span className=\"font-weight-bold\">Passengers</span>\n            <span>: {value['n_people']} </span>\n          </Row>\n          <Row>\n            <span className=\"font-weight-bold\">Overturned</span>\n            <span>: {String(value['overturned'])}</span>\n          </Row>\n          <Row>\n            <span className=\"font-weight-bold\">Temperature</span>\n            <span>: {value['temperature']}</span>\n          </Row>\n          <Row>\n            <span className=\"font-weight-bold\">Collision velocity</span>\n            <span>: {value['velocity']}</span>\n          </Row>\n        </CardBody>\n      </CardBody>\n    )\n  }\n\n  _onImageClick(event) {\n    console.debug('clicked on image', event.target, 'at index', this._imageGallery.getCurrentIndex());\n  }\n\n  _onImageLoad(event) {\n    console.debug('loaded image', event.target.src);\n  }\n\n  _onSlide(index) {\n    this._resetVideo();\n    console.debug('slid to index', index);\n  }\n\n  _onPause(index) {\n    console.debug('paused on index', index);\n  }\n\n  _onScreenChange(fullScreenElement) {\n    console.debug('isFullScreen?', !!fullScreenElement);\n  }\n\n  _onPlay(index) {\n    console.debug('playing from index', index);\n  }\n\n  _resetVideo() {\n    this.setState({ showVideo: {} });\n\n    if (this.state.showPlayButton) {\n      this.setState({ showGalleryPlayButton: true });\n    }\n\n    if (this.state.showFullscreenButton) {\n      this.setState({ showGalleryFullscreenButton: true });\n    }\n  }\n\n  _toggleShowVideo(url) {\n    this.state.showVideo[url] = !Boolean(this.state.showVideo[url]);\n    this.setState({\n      showVideo: this.state.showVideo\n    });\n\n    if (this.state.showVideo[url]) {\n      if (this.state.showPlayButton) {\n        this.setState({ showGalleryPlayButton: false });\n      }\n\n      if (this.state.showFullscreenButton) {\n        this.setState({ showGalleryFullscreenButton: false });\n      }\n    }\n  }\n\n  _renderVideo(item) {\n    return (\n      <div>\n        {\n          this.state.showVideo[item.source] ?\n            <div className='video-wrapper'>\n              <a\n                className='close-video'\n                onClick={this._toggleShowVideo.bind(this, item.source)}\n              >\n              </a>\n              <video autoPlay controls>\n                // width='100%'\n                // height='100%'\n                  <source\n                  src={item.source}\n                  type=\"video/mp4\">\n\n                </source>\n                  // frameBorder='0'\n                  // allowFullScreen\n                </video>\n            </div>\n            :\n            <a onClick={this._toggleShowVideo.bind(this, item.source)}>\n              <div className='play-button' />\n              <img className='image-gallery-image' src={item.original} />\n              {\n                item.description &&\n                <span\n                  className='image-gallery-description'\n                  style={{ right: '0', left: 'initial', height: '100%' }}\n                >\n                  {item.description}\n                </span>\n              }\n            </a>\n        }\n      </div>\n    );\n  }\n\n  onGoBack = () => {\n    return <Redirect to=\"/admin/accidents\" />\n  }\n\n  /* Status dropdown functions */\n  toggle() {\n    this.setState({ dropDownOpen: !this.state.dropDownOpen });\n  }\n\n  changeValue(e) {\n    this.updateDBToSelectedStatus(e.currentTarget.textContent)\n    this.setState({ dropDownValue: e.currentTarget.textContent })\n\n  }\n\n  getBarColor(damage) {\n    if (damage < 30) {\n      return \"h2 font-weight-bold mb-0 text-success\"\n    } else if (damage < 45) {\n      return \"h2 font-weight-bold mb-0 text-teal\"\n    } else if (damage < 75) {\n      return \"h2 font-weight-bold mb-0 text-orange\"\n    } else { return \"h2 font-weight-bold mb-0 text-red\" }\n  }\n\n  setStatusColor() {\n    if (this.state.dropDownValue === \"Accident resolved\") {\n      return (\n        <Badge color=\"\" className=\"badge-dot badge-lg\">\n          <i className=\"bg-lime\" />\n        </Badge>\n      )\n    }\n    if (this.state.dropDownValue === \"Emergency services are on their way\") {\n      return (\n        <Badge color=\"\" className=\"badge-dot badge-lg\">\n          <i className=\"bg-yellow\" />\n        </Badge>\n      )\n    }\n    else {\n      return (\n        <Badge color=\"\" className=\"badge-dot badge-lg\">\n          <i className=\"bg-red\" />\n        </Badge>\n      )\n    }\n  }\n\n  init_text_dropdown(id) {\n    if (id === 2) {\n      return (\"Accident resolved\")\n    } else if (id === 1) {\n      return (\"Emergency services are on their way\")\n    } else { return (\"Accident still not answered\") }\n  }\n\n  updateDBToSelectedStatus(value) {\n    if (value === \"Accident resolved\") {\n      fetch(`/set_accident_status/${this.props.match.params['id']}`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          \"status\": 2\n        })\n      })\n    }\n    if (value === \"Emergency services are on their way\") {\n      fetch(`/set_accident_status/${this.props.match.params['id']}`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          \"status\": 1\n        })\n      })\n    }\n    else {\n      fetch(`/set_accident_status/${this.props.match.params['id']}`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          \"status\": 0\n        })\n      })\n    }\n  }\n  handleClick = (e, id, value) => {\n    e.preventDefault();\n    let new_injured = this.state.accident_data.n_people_injured + value\n    if (new_injured >= 0) {\n      this.setState(() => (this.state.accident_data.n_people_injured = new_injured))\n      this.set_injured(id, new_injured);\n    }\n  };\n\n  getSelectValue= async () => {\n    var selectedValue = document.getElementById(\"ambs\");\n    var amb_id = selectedValue.options[selectedValue.selectedIndex].text\n    console.log(amb_id)\n    await this.myChangeHandler(amb_id)\n    console.log(\"asdasd\"+this.state.ambulance)\n    this.updateDBToSelectedStatus(\"Emergency services are on their way\")\n    var id = this.props.match.params['id']\n    fetch(`/markers/${id}`, {\n      method: \"POST\",\n      cache: \"no-cache\",\n      headers: {\n        \"content-type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        \"ambulance\": this.state.ambulance\n      })\n    }\n    ).then(response => {\n\n      return response.json()\n    })\n      .then(json => {\n\n        this.setState({ ambulance: json[0] })\n      })\n    \n  }\n  mySubmitHandler = (e, id) => {\n    e.preventDefault();\n    alert(\"You are submitting \" + this.state.ambulance);\n    //this.init_text_dropdown(1);\n    //this.changeValue(\"Emergency services are on their way\");\n    this.updateDBToSelectedStatus(\"Emergency services are on their way\")\n    fetch(`/markers/${id}`, {\n      method: \"POST\",\n      cache: \"no-cache\",\n      headers: {\n        \"content-type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        \"ambulance\": this.state.ambulance\n      })\n    }\n    ).then(response => {\n\n      return response.json()\n    })\n      .then(json => {\n\n        this.setState({ ambulance: json[0] })\n      })\n  }\n  myChangeHandler = (amb_id) => {\n    this.setState({ ambulance: amb_id });\n  }\n\n  set_injured(id, value) {\n    fetch(`/set_accident_injured/${id}`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        \"injured\": `${value}`\n      })\n    })\n  }\n\n\n\n  render() {\n    return (\n      <>\n        <Header />\n        <Container className=\" mt--7\" fluid>\n          <Row>\n            <Col className=\" col\">\n              <Card className=\" shadow\">\n                <CardHeader className=\" bg-transparent\">\n                  <Row>\n                    <Col>\n                      <div className=\"d-flex\">\n                        <Button\n                          className=\"icon icon-shape bg-info text-white rounded-circle shadow\"\n                          href=\"/#admin/accidents\"\n                          onClick={this.onGoBack()}\n                        >\n                          <i className=\"fas fa-angle-left\" />\n                        </Button>\n                        <h2 className=\" mt-2 ml-4 \">Accident Details</h2>\n                      </div>\n                    </Col>\n                    <Col>\n                      <div className=\"row justify-content-end\">\n                        <div className=\"mr-2\">\n                          {this.setStatusColor()}\n                        </div>\n                        <div className=\"mr-2 \">\n                          <ButtonDropdown className=\"dropdown-width\" isOpen={this.state.dropDownOpen} toggle={this.toggle}>\n                            <DropdownToggle caret>\n                              {this.state.dropDownValue}\n                            </DropdownToggle>\n                            <DropdownMenu right>\n                              <DropdownItem onClick={this.changeValue}>Accident still not answered</DropdownItem>\n                              <DropdownItem onClick={this.changeValue}>Emergency services are on their way</DropdownItem>\n                              <DropdownItem onClick={this.changeValue}>Accident resolved</DropdownItem>\n                            </DropdownMenu>\n                          </ButtonDropdown>\n                        </div>\n                      </div>\n                    </Col>\n                  </Row>\n                </CardHeader>\n                <CardBody>\n                  <Row className=\"h-75 \">\n                    <Col>\n                      <Row >\n                        <div className=\"col\">\n                          <img src={require(\"../../assets/img/brand/accident_2021.png\")} style={{ height: \"100%\", width: \"100%\" }} />\n                        </div>\n                      </Row>\n                      <Row>\n                        <div className=\"col\">\n                          <p><strong>Address:</strong> {this.state.accident_data.location.address}</p>\n                        </div>\n                      </Row>\n                      <Row>\n                        <div className=\"col-sm\">\n                          <p><strong>Lat:</strong> {this.state.accident_data.location.coords.lat}</p>\n                        </div>\n                        <div className=\"col-sm\">\n                          <p><strong>Lng:</strong> {this.state.accident_data.location.coords.lng}</p>\n                        </div>\n                      </Row>\n                    </Col>\n                    <Col>\n                      <CardBody>\n                        <ImageGallery\n                          ref={i => this._imageGallery = i}\n                          items={this.images}\n                          lazyLoad={false}\n                          onClick={this._onImageClick.bind(this)}\n                          onImageLoad={this._onImageLoad}\n                          onSlide={this._onSlide.bind(this)}\n                          onPause={this._onPause.bind(this)}\n                          onScreenChange={this._onScreenChange.bind(this)}\n                          onPlay={this._onPlay.bind(this)}\n                          infinite={this.state.infinite}\n                          showBullets={this.state.showBullets}\n                          showFullscreenButton={this.state.showFullscreenButton && this.state.showGalleryFullscreenButton}\n                          showPlayButton={this.state.showPlayButton && this.state.showGalleryPlayButton}\n                          showThumbnails={this.state.showThumbnails}\n                          showIndex={this.state.showIndex}\n                          showNav={this.state.showNav}\n                          isRTL={this.state.isRTL}\n                          thumbnailPosition={this.state.thumbnailPosition}\n                          slideDuration={parseInt(this.state.slideDuration)}\n                          slideInterval={parseInt(this.state.slideInterval)}\n                          slideOnThumbnailOver={this.state.slideOnThumbnailOver}\n                          additionalClass=\"app-image-gallery\"\n                        />\n                      </CardBody>\n                    </Col>\n                  </Row>\n                  <Maps\n\n                    markers={this.all_locations}\n                    origem={this.state.accident_data.location.coords}\n                    destino={this.state.accident_data.location.coords_amb}\n\n                    googleMapURL=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyA03XhgCxn-V9TsghBLpQ8LaScQLPgIJxs\"\n                    loadingElement={<div style={{ height: `100%` }} />}\n                    center={this.state.accident_data.location.coords}\n                    //center = {this.state.accident_data.location.coords_amb}\n                    zoom={17}\n\n                    containerElement={\n                      <div\n                        className=\"map-canvas\"\n                        id=\"map-canvas\"\n                      />\n                    }\n                    mapElement={\n                      <div style={{ height: `100%`, borderRadius: \"inherit\" }} />\n                    }\n\n                  />\n                  <CardHeader>\n                    <h3> </h3>\n                  </CardHeader>\n                  {this.state.live_ports.map(this.renderAlertLives)}\n                  <Row>\n\n                    <Col lg=\"6\" xl=\"3\">\n                      <Card className=\"card-stats mb-4 mb-xl-0\">\n                        <CardBody className=\"border rounded border-info\">\n                          <Row>\n                            <div className=\"col\">\n                              <CardTitle\n                                tag=\"h5\"\n                                className=\"text-uppercase text-muted mb-0\"\n                              >\n                                Number of cars involved\n                                  </CardTitle>\n                              <span className=\"h2 font-weight-bold mb-0\">{this.state.accident_data.n_cars_involved}</span>\n                            </div>\n                            <Col className=\"col-auto\">\n                              <Button className=\"icon icon-shape bg-success text-dark rounded-circle shadow\" id=\"toggler\">\n                                <i className=\"fas fa-car\" />\n                              </Button>\n                            </Col>\n                          </Row>\n                        </CardBody>\n                      </Card>\n                    </Col>\n                    <Col lg=\"6\" xl=\"3\">\n                      <Card className=\"card-stats mb-4 mb-xl-0\">\n                        <CardBody className=\"border rounded border-info\">\n\n                          <Row>\n                            <div className=\"col\">\n                              <CardTitle\n                                tag=\"h5\"\n                                className=\"text-uppercase text-muted mb-0\"\n                              >\n                                Number of persons involved\n                                  </CardTitle>\n                              <span className=\"h2 font-weight-bold mb-0\">\n                                {this.state.accident_data.n_people_involved}\n                              </span>\n                            </div>\n                            <Col className=\"col-auto\">\n                              <div className=\"icon icon-shape bg-info text-dark rounded-circle shadow\">\n                                <i className=\"fas fa-users\" />\n                              </div>\n                            </Col>\n                          </Row>\n\n                        </CardBody>\n                      </Card>\n                    </Col>\n                    <Col lg=\"6\" xl=\"3\">\n                      <Card className=\"card-stats mb-4 mb-xl-0\">\n                        <CardBody className=\"border rounded border-info\">\n                          <Row>\n                            <div className=\"col\">\n                              <CardTitle\n                                tag=\"h5\"\n                                className=\"text-uppercase text-muted mb-0\"\n                              >\n                                Number of persons injured\n                                </CardTitle>\n\n                              <span className=\"h2 font-weight-bold mb-0\">\n                                <Button className=\" icon-sm icon-shapesm bg-warning text-dark shadow\" onClick={(e) => this.handleClick(e, this.props.match.params['id'], -1)}>\n                                  <i className=\"fas fa-minus\" />\n                                </Button>\n                                {this.state.accident_data.n_people_injured}\n                                <Button className=\" icon-sm icon-shapesm bg-success text-dark shadow\" onClick={(e) => this.handleClick(e, this.props.match.params['id'], 1)}>\n                                  <i className=\"fas fa-plus\" />\n                                </Button>\n                              </span>\n\n                            </div>\n                            <Col className=\"col-auto\">\n                              <div className=\"icon icon-shape bg-danger text-dark rounded-circle shadow\">\n                                <i className=\"fas fa-user-injured\" />\n                              </div>\n                            </Col>\n                          </Row>\n                        </CardBody>\n                      </Card>\n                    </Col>\n                    <Col lg=\"6\" xl=\"3\">\n                      <Card className=\"card-stats mb-4 mb-xl-0\">\n                        <CardBody className=\"border rounded border-info\">\n                          <Row>\n                            <div className=\"col\">\n                              <CardTitle\n                                tag=\"h5\"\n                                className=\"text-uppercase text-muted mb-0\"\n                              >\n                                Severity of the accident\n                                </CardTitle>\n                              <span className={this.getBarColor(this.state.accident_data.damage)}>\n                                {this.state.accident_data.damage}\n                              </span>\n                            </div>\n                            <Col className=\"col-auto\">\n                              <div className=\"icon icon-shape bg-yellow text-dark rounded-circle shadow\">\n                                <i className=\"fas fa-exclamation-triangle\" />\n                              </div>\n                            </Col>\n                          </Row>\n                        </CardBody>\n                      </Card>\n                    </Col>\n                    <Col lg=\"6\" xl=\"3\">\n                      <Card className=\"card-stats mb-4 mb-xl-0\" >\n                        <CardBody className=\"border rounded border-info\">\n                          <Row>\n                            <div className=\"col\">\n                              <CardTitle\n                                tag=\"h5\"\n                                className=\"text-uppercase text-muted mb-0\"\n                              >\n                                Livestreams\n                                  </CardTitle>\n                              <span className=\"h2 font-weight-bold mb-0\">{this.state.live_ports.length}</span>\n                            </div>\n                            <Col className=\"col-auto\">\n                              <Button className=\"icon icon-shape bg-success text-dark rounded-circle shadow\" id=\"togglerLives\">\n                                <i className=\"fas fa-video\" />\n                              </Button>\n                            </Col>\n                          </Row>\n                        </CardBody>\n                      </Card>\n                    </Col>\n                    <Col lg=\"6\" xl=\"3\">\n                      <Card className=\"card-stats mb-4 mb-xl-0\"  >\n                        <CardBody className=\"border rounded border-info\">\n                          <Row>\n                            <div className=\"col\">\n                              <CardTitle\n                                tag=\"h5\"\n                                className=\"text-uppercase text-muted mb-0\"\n                              >\n                                Choose an Ambulance\n                                </CardTitle>                                  \n                            </div>\n                            <Col className=\"col-auto\">\n                              <select name=\"ambs\" id=\"ambs\" onChange={this.getSelectValue}  class=\"btn btn-secondary dropdown-toggle\" type=\"button\"  data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                              {/*this.renderUserAmbs(this.state.user_ambulances)*/}\n                              <option value=\"amb0\" >0</option>\n                              {this.state.user_ambulances.map(this.renderUserAmbs)}\n                              </select>\n                            </Col>\n\n                          </Row>\n                        </CardBody>\n                      </Card>\n                    </Col>\n                   \n                  </Row>\n                  <UncontrolledCollapse toggler=\"#toggler\">\n                    <Card>\n                      <CardBody>\n                        <Row>\n                          {this.state.accident_data[\"car\"].map(this.renderCars)}\n                        </Row>\n                      </CardBody>\n                    </Card>\n                  </UncontrolledCollapse>\n                  <UncontrolledCollapse toggler=\"#togglerLives\">\n                    <Card>\n                      <CardBody>\n                        <Row>\n                          {this.state.live_ports.map(this.renderLivestream)}\n                        </Row>\n                      </CardBody>\n                    </Card>\n                  </UncontrolledCollapse>\n                </CardBody>\n              </Card>\n            </Col>\n          </Row>\n        </Container>\n      </>\n    );\n  }\n}\n\nexport default AccidentDetails;"]},"metadata":{},"sourceType":"module"}