/*! For license information please see main.dcb3e35c.chunk.js.LICENSE.txt */
(this.webpackJsonpOnTrack=this.webpackJsonpOnTrack||[]).push([[0],{136:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/administrative1.5589e4dc.png"},146:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/bosch.52a089ee.png"},147:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/IT.a6d58421.png"},148:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/UA.abc39112.png"},207:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=207},208:function(e,t){},213:function(e,t,a){},214:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/Logo.82e07699.png"},232:function(e,t,a){},234:function(e,t,a){},346:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/fundo.dd0ffc76.jpg"},477:function(e,t){},478:function(e,t){},479:function(e,t){},480:function(e,t){},481:function(e,t){},482:function(e,t){},487:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/accident_2021.d24f33db.png"},505:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/Logo-white.760cf793.png"},506:function(e,t,a){"use strict";a.r(t);var s=a(36),n=a(2),c=a.n(n),r=a(29),i=a.n(r),l=a(16),o=a(19),d=(a(232),a(233),a(234),a(8)),h=a(9),j=a(11),b=a(10),u=a(509),m=a(15),p=a.n(m),x=a(20),O=a(508),g=a(510),f=a(511),v=a(512),N=a(513),y=a(216),w=a(514),_=a(515),k=a(516),C=a(534),S=a(517),D=a(535),A=a(518),M=a(0),T=function(e){Object(j.a)(s,e);var t=Object(b.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).getData=Object(x.a)(p.a.mark((function e(){var t,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/home");case 3:return t=e.sent,e.next=6,t.json();case 6:s=e.sent,a.setState((function(e){return{Username:s.Username,email:s.email,about:s.about,address:s.address,birth_date:s.birth_date,country:s.country,first_name:s.first_name,last_name:s.last_name,postal_code:s.postal_code,profession:s.profession,telephone:s.telephone,work_institution:s.work_institution}})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a.setState((function(e){return{error:"No accidents do Show"}}));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),a.state={user:[],Username:"",about:"",address:"",birth_date:"",city:"",country:"",email:"",first_name:"",last_name:"",postal_code:"",profession:"",telephone:"",work_institution:""},a}return Object(h.a)(s,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(O.a,{className:"navbar-top navbar-dark",expand:"md",id:"navbar-main",children:Object(M.jsxs)(u.a,{fluid:!0,children:[Object(M.jsx)(l.b,{className:"h4 mb-0 text-white text-uppercase d-none d-lg-inline-block",to:"/",children:this.props.brandText}),Object(M.jsx)(g.a,{className:"navbar-search navbar-search-dark form-inline mr-3 d-none d-md-flex ml-lg-auto",children:Object(M.jsx)(f.a,{className:"mb-0",children:Object(M.jsxs)(v.a,{className:"input-group-alternative",children:[Object(M.jsx)(N.a,{addonType:"prepend",children:Object(M.jsx)(y.a,{children:Object(M.jsx)("i",{className:"fas fa-search"})})}),Object(M.jsx)(w.a,{placeholder:"Search",type:"text"})]})})}),Object(M.jsx)(_.a,{className:"align-items-center d-none d-md-flex",navbar:!0,children:Object(M.jsxs)(k.a,{nav:!0,children:[Object(M.jsx)(C.a,{className:"pr-0",nav:!0,children:Object(M.jsxs)(S.a,{className:"align-items-center",children:[Object(M.jsx)("span",{className:"avatar avatar-sm rounded-circle",children:Object(M.jsx)("img",{alt:"...",src:a(136)})}),Object(M.jsx)(S.a,{className:"ml-2 d-none d-lg-block",children:Object(M.jsx)("span",{className:"mb-0 text-sm font-weight-bold",children:this.state.Username})})]})}),Object(M.jsxs)(D.a,{className:"dropdown-menu-arrow",right:!0,children:[Object(M.jsx)(A.a,{className:"noti-title",header:!0,tag:"div",children:Object(M.jsx)("h6",{className:"text-overflow m-0",children:"Welcome!"})}),Object(M.jsxs)(A.a,{to:"/admin/user-profile",tag:l.b,children:[Object(M.jsx)("i",{className:"ni ni-single-02"}),Object(M.jsx)("span",{children:"My profile"})]}),Object(M.jsx)(A.a,{divider:!0}),Object(M.jsxs)(A.a,{to:"/auth/login",tag:l.b,children:[">",Object(M.jsx)("i",{className:"ni ni-user-run"}),Object(M.jsx)("span",{children:"Logout"})]})]})]})})]})})})}}]),s}(c.a.Component),V=(a(64),a(519)),I=a(520),L=function(e){Object(j.a)(s,e);var t=Object(b.a)(s);function s(){return Object(d.a)(this,s),t.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){return Object(M.jsx)("footer",{className:"footer",children:Object(M.jsxs)(V.a,{className:"align-items-center justify-content-xl-between",children:[Object(M.jsx)(I.a,{xl:"6",children:Object(M.jsxs)("div",{className:"copyright text-center text-xl-left text-muted",children:["2020"," ",Object(M.jsx)("a",{className:"font-weight-bold ml-1",href:"https://rodrigo740.github.io/",rel:"noopener noreferrer",target:"_blank",children:"Project ARC"})]})}),Object(M.jsx)(I.a,{xl:"2",children:Object(M.jsx)("div",{className:"copyright text-center  text-muted",children:Object(M.jsx)("a",{href:"https://www.bosch.pt/",target:"_blank",children:Object(M.jsx)("img",{id:"grayscale",alt:"...",className:"grayscale",height:45,width:125,src:a(146)})})})}),Object(M.jsx)(I.a,{xl:"2",children:Object(M.jsx)("div",{className:"copyright text-center  text-muted",children:Object(M.jsx)("a",{href:"https://www.it.pt",target:"_blank",children:Object(M.jsx)("img",{alt:"...",className:"grayscale",height:45,width:125,src:a(147)})})})}),Object(M.jsx)(I.a,{xl:"2",children:Object(M.jsx)("div",{className:"copyright text-center  text-muted",children:Object(M.jsx)("a",{href:"https://www.ua.pt",target:"_blank",children:Object(M.jsx)("img",{alt:"...",className:"grayscale",height:45,width:125,src:a(148)})})})})]})})}}]),s}(c.a.Component),F=a(14),P=a(521),E=a(522),U=a(523),B=a(220),R=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).state={collapseOpen:!1},s.toggleCollapse=function(){s.setState({collapseOpen:!s.state.collapseOpen})},s.closeCollapse=function(){s.setState({collapseOpen:!1})},s.createLinks=function(e){return e.map((function(e,t){if("/edit_profile"!=e.path&&"/register"!=e.path&&"/user-profile"!=e.path&&"/accident_details/:id"!=e.path&&"/login"!=e.path&&(0==s.state.role||"/users_table"!==e.path))return Object(M.jsx)(P.a,{children:Object(M.jsxs)(E.a,{to:e.layout+e.path,tag:l.c,onClick:s.closeCollapse,activeClassName:"active",children:[Object(M.jsx)("i",{className:e.icon}),e.name]})},t)}))},s.getData=Object(x.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/home");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,s.setState((function(e){return{Username:a.Username,email:a.email,about:a.about,address:a.address,birth_date:a.birth_date,country:a.country,city:a.city,first_name:a.first_name,last_name:a.last_name,postal_code:a.postal_code,profession:a.profession,telephone:a.telephone,work_institution:a.work_institution,role:a.role}})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),s.setState((function(e){return{error:"No accidents do Show"}}));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),s.activeRoute.bind(Object(F.a)(s)),s.state={user:[],Username:"",about:"",address:"",birth_date:"",city:"",country:"",email:"",first_name:"",last_name:"",postal_code:"",profession:"",telephone:"",work_institution:"",role:""},s}return Object(h.a)(a,[{key:"activeRoute",value:function(e){return this.props.location.pathname.indexOf(e)>-1?"active":""}},{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e,t=this.props,a=(t.bgColor,t.routes),n=t.logo;return n&&n.innerLink?e={to:n.innerLink,tag:l.b}:n&&n.outterLink&&(e={href:n.outterLink,target:"_blank"}),Object(M.jsx)(O.a,{className:"navbar-vertical fixed-left navbar-light bg-white",expand:"md",id:"sidenav-main",children:Object(M.jsxs)(u.a,{fluid:!0,children:[Object(M.jsx)("button",{className:"navbar-toggler",type:"button",onClick:this.toggleCollapse,children:Object(M.jsx)("span",{className:"navbar-toggler-icon"})}),n?Object(M.jsx)(U.a,Object(s.a)(Object(s.a)({className:"pt-0"},e),{},{children:Object(M.jsx)("img",{alt:n.imgAlt,className:"navbar-brand-img",src:n.imgSrc})})):null,Object(M.jsxs)(_.a,{className:"align-items-center d-md-none",children:[Object(M.jsxs)(k.a,{nav:!0,children:[Object(M.jsx)(C.a,{nav:!0,className:"nav-link-icon",children:Object(M.jsx)("i",{className:"ni ni-bell-55"})}),Object(M.jsxs)(D.a,{"aria-labelledby":"navbar-default_dropdown_1",className:"dropdown-menu-arrow",right:!0,children:[Object(M.jsx)(A.a,{children:"Action"}),Object(M.jsx)(A.a,{children:"Another action"}),Object(M.jsx)(A.a,{divider:!0}),Object(M.jsx)(A.a,{children:"Something else here"})]})]}),Object(M.jsxs)(k.a,{nav:!0,children:[Object(M.jsx)(C.a,{nav:!0,children:Object(M.jsx)(S.a,{className:"align-items-center",children:Object(M.jsx)("span",{className:"avatar avatar-sm rounded-circle",children:Object(M.jsx)("img",{alt:"..."})})})}),Object(M.jsxs)(D.a,{className:"dropdown-menu-arrow",right:!0,children:[Object(M.jsx)(A.a,{className:"noti-title",header:!0,tag:"div",children:Object(M.jsx)("h6",{className:"text-overflow m-0",children:"Welcome!"})}),Object(M.jsxs)(A.a,{to:"/admin/user-profile",tag:l.b,children:[Object(M.jsx)("i",{className:"ni ni-single-02"}),Object(M.jsx)("span",{children:"My profile"})]}),Object(M.jsxs)(A.a,{to:"/admin/user-profile",tag:l.b,children:[Object(M.jsx)("i",{className:"ni ni-settings-gear-65"}),Object(M.jsx)("span",{children:"Settings"})]}),Object(M.jsxs)(A.a,{to:"/admin/user-profile",tag:l.b,children:[Object(M.jsx)("i",{className:"ni ni-calendar-grid-58"}),Object(M.jsx)("span",{children:"Activity"})]}),Object(M.jsxs)(A.a,{to:"/admin/user-profile",tag:l.b,children:[Object(M.jsx)("i",{className:"ni ni-support-16"}),Object(M.jsx)("span",{children:"Support"})]}),Object(M.jsx)(A.a,{divider:!0}),Object(M.jsxs)(A.a,{href:"#pablo",onClick:function(e){return e.preventDefault()},children:[Object(M.jsx)("i",{className:"ni ni-user-run"}),Object(M.jsx)("span",{children:"Logout"})]})]})]})]}),Object(M.jsxs)(B.a,{navbar:!0,isOpen:this.state.collapseOpen,children:[Object(M.jsx)("div",{className:"navbar-collapse-header d-md-none",children:Object(M.jsxs)(V.a,{children:[n?Object(M.jsx)(I.a,{className:"collapse-brand",xs:"6",children:n.innerLink?Object(M.jsx)(l.b,{to:n.innerLink,children:Object(M.jsx)("img",{alt:n.imgAlt,src:n.imgSrc})}):Object(M.jsx)("a",{href:n.outterLink,children:Object(M.jsx)("img",{alt:n.imgAlt,src:n.imgSrc})})}):null,Object(M.jsx)(I.a,{className:"collapse-close",xs:"6",children:Object(M.jsxs)("button",{className:"navbar-toggler",type:"button",onClick:this.toggleCollapse,children:[Object(M.jsx)("span",{}),Object(M.jsx)("span",{})]})})]})}),Object(M.jsx)(g.a,{className:"mt-4 mb-3 d-md-none",children:Object(M.jsxs)(v.a,{className:"input-group-rounded input-group-merge",children:[Object(M.jsx)(w.a,{"aria-label":"Search",className:"form-control-rounded form-control-prepended",placeholder:"Search",type:"search"}),Object(M.jsx)(N.a,{addonType:"prepend",children:Object(M.jsx)(y.a,{children:Object(M.jsx)("span",{className:"fa fa-search"})})})]})}),Object(M.jsx)(_.a,{navbar:!0,children:this.createLinks(a)})]})]})})}}]),a}(c.a.Component);R.defaultProps={routes:[{}]};var J=R,z=a(6),W=a.n(z),G=a(94),H=a.n(G),q=a(132),Q=a(527),Y=a(528),X=a(524),Z=a(54),K=a(525),$=(c.a.Component,a(53)),ee=a(221),te=a(526),ae=[{accidents:Math.floor(1e3*Math.random()),type:"ACCIDENTS",name_view:"Today",variation:(20*Math.random()-10).toFixed(2),classname_Arrow:"fa fa-arrow-up",classname_color:"text-success mr-2",since:"Since yesterday"},{accidents:Math.floor(1e3*Math.random()),type:"ACCIDENTS",name_view:"Week",variation:(20*Math.random()-10).toFixed(2),classname:"fa fa-arrow-up",classname_color:"text-success mr-2",since:"Since last week"},{accidents:Math.floor(1e3*Math.random()),type:"ACCIDENTS",name_view:"Month",variation:(20*Math.random()-10).toFixed(2),classname:"fa fa-arrow-up",classname_color:"text-success mr-2",since:"Since last month"}],se=function(e){var t=Object(n.useState)(0),a=Object($.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(!1),i=Object($.a)(r,2),l=i[0],o=i[1],d=ae.map((function(t){return Object(M.jsx)(ee.a,{onExiting:function(){return o(!0)},onExited:function(){return o(!1)},children:Object(M.jsxs)(X.a,{children:[Object(M.jsxs)(V.a,{children:[Object(M.jsxs)("div",{className:"col",children:[Object(M.jsx)(K.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:e.title}),Object(M.jsxs)("span",{className:"h2 font-weight-bold mb-0",id:"teste",children:[t.name_view+"\t\t"," ",t.accidents]})]}),Object(M.jsx)(I.a,{className:"col-auto",children:Object(M.jsx)("div",{className:e.icon_name,children:Object(M.jsx)("i",{className:e.icon})})})]}),Object(M.jsxs)("p",{className:"mt-3 mb-0 text-muted text-sm",children:[Object(M.jsxs)("span",{id:"span1",className:t.classname_color,children:[Object(M.jsx)("i",{id:"i1",className:t.classname_Arrow})," ",t.variation,"%"]})," ",Object(M.jsx)("span",{className:"text-nowrap",children:t.since})]})]})},t.src)}));return Object(M.jsx)(te.a,{activeIndex:s,next:function(){if(!l){var e=s===ae.length-1?0:s+1;ae[e].variation>0?(ae[e].classname_Arrow="fa fa-arrow-up",ae[e].classname_color="text-success mr-2"):(ae[e].classname_Arrow="fa fa-arrow-down",ae[e].classname_color="text-warning mr-2"),c(e)}},previous:function(){if(!l){var e=0===s?ae.length-1:s-1;c(e)}},children:d})},ne=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)("div",{className:"header bg-gradient-info pb-8 pt-5 pt-md-8",children:Object(M.jsx)(u.a,{fluid:!0,children:Object(M.jsx)("div",{className:"header-body",children:Object(M.jsxs)(V.a,{children:[Object(M.jsx)(I.a,{lg:"6",xl:"3",children:Object(M.jsx)(Q.a,{className:"card-stats mb-4 mb-xl-0",children:Object(M.jsx)(se,{title:"Reports",icon_name:"icon icon-shape bg-purple text-white rounded-circle shadow",icon:"fas fa-chart-bar"})})}),Object(M.jsx)(I.a,{lg:"6",xl:"3",children:Object(M.jsx)(Q.a,{className:"card-stats mb-4 mb-xl-0",children:Object(M.jsx)(se,{title:"Accidents",icon_name:"icon icon-shape bg-red text-white rounded-circle shadow",icon:"fas fa-car-crash"})})}),Object(M.jsx)(I.a,{lg:"6",xl:"3",children:Object(M.jsx)(Q.a,{className:"card-stats mb-4 mb-xl-0",children:Object(M.jsx)(se,{title:"Users",icon_name:"icon icon-shape bg-yellow text-white rounded-circle shadow",icon:"fas fa-users"})})}),Object(M.jsx)(I.a,{lg:"6",xl:"3",children:Object(M.jsx)(Q.a,{className:"card-stats mb-4 mb-xl-0",children:Object(M.jsx)(se,{title:"Medical care",icon_name:"icon icon-shape bg-blue text-white rounded-circle shadow",icon:"fas fa-ambulance"})})})]})})})})})}}]),a}(c.a.Component),ce=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).toggleNavs=function(e,t){e.preventDefault(),s.setState({activeNav:t,chartExample1Data:"data1"===s.state.chartExample1Data?"data2":"data1"})},s.state={activeNav:1,chartExample1Data:"data1"},window.Chart&&Object(Z.parseOptions)(H.a,Object(Z.chartOptions)()),s}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ne,{}),Object(M.jsx)(u.a,{className:"mt--7",fluid:!0,children:Object(M.jsxs)(V.a,{children:[Object(M.jsx)(I.a,{className:"mb-5 mb-xl-0",xl:"8",children:Object(M.jsxs)(Q.a,{className:"bg-gradient-default shadow",children:[Object(M.jsx)(Y.a,{className:"bg-transparent",children:Object(M.jsxs)(V.a,{className:"align-items-center",children:[Object(M.jsxs)("div",{className:"col",children:[Object(M.jsx)("h6",{className:"text-uppercase text-light ls-1 mb-1",children:"Overview"}),Object(M.jsx)("h2",{className:"text-white mb-0",children:"Accidents"})]}),Object(M.jsx)("div",{className:"col",children:Object(M.jsxs)(_.a,{className:"justify-content-end",pills:!0,children:[Object(M.jsx)(P.a,{children:Object(M.jsxs)(E.a,{className:W()("py-2 px-3",{active:1===this.state.activeNav}),href:"#pablo",onClick:function(t){return e.toggleNavs(t,1)},children:[Object(M.jsx)("span",{className:"d-none d-md-block",children:"Month"}),Object(M.jsx)("span",{className:"d-md-none",children:"M"})]})}),Object(M.jsx)(P.a,{children:Object(M.jsxs)(E.a,{className:W()("py-2 px-3",{active:2===this.state.activeNav}),"data-toggle":"tab",href:"#pablo",onClick:function(t){return e.toggleNavs(t,2)},children:[Object(M.jsx)("span",{className:"d-none d-md-block",children:"Week"}),Object(M.jsx)("span",{className:"d-md-none",children:"W"})]})})]})})]})}),Object(M.jsx)(X.a,{children:Object(M.jsx)("div",{className:"chart",children:Object(M.jsx)(q.Line,{data:Z.chartExample1[this.state.chartExample1Data],options:Z.chartExample1.options,getDatasetAtEvent:function(e){return console.log(e)}})})})]})}),Object(M.jsx)(I.a,{xl:"4",children:Object(M.jsxs)(Q.a,{className:"shadow",children:[Object(M.jsx)(Y.a,{className:"bg-transparent",children:Object(M.jsx)(V.a,{className:"align-items-center",children:Object(M.jsxs)("div",{className:"col",children:[Object(M.jsx)("h6",{className:"text-uppercase text-muted ls-1 mb-1",children:"Performance"}),Object(M.jsx)("h2",{className:"mb-0",children:"Accidents by Discticts"})]})})}),Object(M.jsx)(X.a,{children:Object(M.jsx)("div",{className:"chart",children:Object(M.jsx)(q.Bar,{data:Z.chartExample2.data,options:Z.chartExample2.options})})})]})})]})})]})}}]),a}(c.a.Component),re=a(217),ie=function(e){Object(j.a)(s,e);var t=Object(b.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).getData=Object(x.a)(p.a.mark((function e(){var t,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/home");case 3:return t=e.sent,e.next=6,t.json();case 6:s=e.sent,a.setState((function(e){return{user:s}})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a.setState((function(e){return{error:"No accidents do Show"}}));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),a.state={user:[]},a}return Object(h.a)(s,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"header pb-8 pt-5 pt-lg-8 d-flex align-items-center",style:{minHeight:"300px",backgroundImage:"url("+a(346)+")",backgroundSize:"cover",backgroundPosition:"center top"},children:[Object(M.jsx)("span",{className:"mask bg-gradient-default opacity-8"}),Object(M.jsx)(u.a,{className:"d-flex align-items-center",fluid:!0,children:Object(M.jsx)(V.a,{children:Object(M.jsx)(I.a,{lg:"7",md:"10",children:Object(M.jsxs)("h1",{className:"display-2 text-white",children:["Hello ",this.state.user.Username]})})})})]})})}}]),s}(c.a.Component),le=function(e){Object(j.a)(s,e);var t=Object(b.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).onEditProfile=function(){return Object(M.jsx)(o.a,{to:"/admin/edit_profile"})},a.getData=Object(x.a)(p.a.mark((function e(){var t,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/home");case 3:return t=e.sent,e.next=6,t.json();case 6:s=e.sent,a.setState((function(e){return{user:s}})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a.setState((function(e){return{error:"No accidents do Show"}}));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),a.state={user:[]},a}return Object(h.a)(s,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ie,{}),Object(M.jsx)(u.a,{className:"mt--7",fluid:!0,children:Object(M.jsx)(V.a,{children:Object(M.jsx)(I.a,{children:Object(M.jsxs)(Q.a,{className:"card-profile shadow",children:[Object(M.jsx)(V.a,{className:"justify-content-center",children:Object(M.jsx)(I.a,{className:"order-lg-2",lg:"3",children:Object(M.jsx)("div",{className:"card-profile-image",children:Object(M.jsx)("a",{href:"#pablo",onClick:function(e){return e.preventDefault()},children:Object(M.jsx)("img",{alt:"...",className:"rounded-circle",src:a(136)})})})})}),Object(M.jsx)(Y.a,{className:"text-center border-0 pt-8 pt-md-4 pb-0 pb-md-4",children:Object(M.jsx)("div",{className:"d-flex justify-content-end",children:Object(M.jsx)(re.a,{color:"default",href:"/#admin/edit_profile",onClick:this.onEditProfile,size:"sm",children:"Edit profile"})})}),Object(M.jsxs)(X.a,{className:"pt-0 pt-md-4",children:[Object(M.jsx)(V.a,{children:Object(M.jsx)("div",{className:"col",children:Object(M.jsx)("div",{className:"card-profile-stats d-flex justify-content-center mt-md-5"})})}),Object(M.jsxs)("div",{className:"text-center",children:[Object(M.jsxs)("h3",{children:[this.state.user.first_name,Object(M.jsx)("span",{className:"font-weight-light",children:", 27"})]}),Object(M.jsxs)("div",{className:"h5 font-weight-300",children:[Object(M.jsx)("i",{className:"ni location_pin mr-2"}),this.state.user.city]}),Object(M.jsxs)("div",{className:"h5 mt-4",children:[Object(M.jsx)("i",{className:"ni business_briefcase-24 mr-2"}),this.state.user.profession]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("i",{className:"ni education_hat mr-2"}),this.state.user.work_institution]}),Object(M.jsx)("hr",{className:"my-4"}),Object(M.jsx)("p",{children:this.state.user.about}),Object(M.jsx)("a",{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Show more"})]})]})]})})})})]})}}]),s}(c.a.Component),oe=a(41);function de(e){var t=Object(n.useState)(),a=Object($.a)(t,2),s=a[0],r=a[1],i=e.origem,l=e.destino,o=e.travelMode;return Object(n.useEffect)((function(){var e=new google.maps.DirectionsService;console.log("here"),e.route({origin:new google.maps.LatLng(i.lat,i.lng),destination:new google.maps.LatLng(l.lat,l.lng),travelMode:o},(function(e,t){t===google.maps.DirectionsStatus.OK?r(e):console.error("error fetching directions ".concat(e))}))}),[i]),Object(M.jsx)(c.a.Fragment,{children:s&&Object(M.jsx)(oe.DirectionsRenderer,{directions:s,options:{suppressMarkers:!0}})})}var he=Object(oe.withScriptjs)(Object(oe.withGoogleMap)((function(e){return Object(M.jsx)(oe.GoogleMap,{defaultCenter:e.defaultCenter,defaultZoom:e.zoom,defaultOptions:{scrollwheel:!1},options:{disableAutoPan:!0},children:e.markers.map((function(e,t){return Object(M.jsx)(oe.Marker,{position:{lat:e.lat,lng:e.lng},id:t,options:{icon:"/accident_icon/".concat(e.status)},onClick:function(){e.id&&(window.location.href="/#admin/accident_details/".concat(e.id))}},t)}))})})));var je=Object(oe.withScriptjs)(Object(oe.withGoogleMap)((function(e){return Object(M.jsxs)(oe.GoogleMap,{center:e.center,defaultZoom:e.zoom,defaultOptions:{scrollwheel:!1},children:[",",Object(M.jsx)(de,{destino:e.origem,origem:e.destino,travelMode:google.maps.TravelMode.DRIVING}),e.markers.map((function(e,t){return Object(M.jsx)(oe.Marker,{position:{lat:e.lat,lng:e.lng},options:{icon:"/accident_icon/".concat(e.status)},onClick:function(){var t,a;e.id&&(5!=e.status?window.location.href="/#admin/accident_details/".concat(e.id):(t=e.id_acc,a=e.id,console.log("Marker clicked!"),console.log(a),fetch("/startStream/".concat(t,"/").concat(a))))}})}))]})}))),be=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).get_my_location=function(){return navigator.geolocation?new Promise((function(e,t){return navigator.geolocation.getCurrentPosition(e,t)})):new Promise((function(e){return e({})}))},s.state={lat:0,lng:0},s}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;Promise.all([this.get_my_location()]).then((function(t){e.setState({lat:t[0].coords.latitude,lng:t[0].coords.longitude})}))}},{key:"render",value:function(){return this.props.center?Object(M.jsx)(je,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyA03XhgCxn-V9TsghBLpQ8LaScQLPgIJxs",loadingElement:Object(M.jsx)("div",{style:{height:"100%"}}),center:this.state,zoom:this.props.zoom,markers:this.props.markers,origem:this.props.origem,destino:this.props.destino,containerElement:Object(M.jsx)("div",{className:"map-canvas",id:"map-canvas"}),mapElement:this.props.mapElement}):Object(M.jsx)(he,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyA03XhgCxn-V9TsghBLpQ8LaScQLPgIJxs",loadingElement:Object(M.jsx)("div",{style:{height:"100%"}}),defaultCenter:this.state,zoom:this.props.zoom,markers:this.props.markers,containerElement:Object(M.jsx)("div",{className:"map-canvas",id:"map-canvas"}),mapElement:this.props.mapElement})}}]),a}(c.a.Component),ue=function(){var e=Object(n.useState)([]),t=Object($.a)(e,2),a=t[0],s=t[1];Object(n.useEffect)((function(){var e=setInterval((function(){c().then((function(e){s(e)}))}),2e3);return function(){return clearInterval(e)}}),[]);var c=function(){var e=Object(x.a)(p.a.mark((function e(){var t,a,s,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/list_accidents");case 2:return t=e.sent,e.next=5,t.json();case 5:for(a=e.sent,s=[],n=0;n<a.length;n++)s.push({lat:a[n].location.lat,lng:a[n].location.lng,id:a[n].id,status:a[n].status});return e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ne,{}),Object(M.jsx)(u.a,{className:"mt--7",fluid:!0,children:Object(M.jsx)(V.a,{children:Object(M.jsx)("div",{className:"col",children:Object(M.jsx)(Q.a,{className:"shadow border-0",children:Object(M.jsx)(be,{markers:a,zoom:10,mapElement:Object(M.jsx)("div",{style:{height:"100%",borderRadius:"inherit"}})})})})})})]})},me=a(38),pe=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).state={username:"",email:"",passwd:"",remember:"False",error:!1},s.handleChange=s.handleChange.bind(Object(F.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(F.a)(s)),s}return Object(h.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.value,s=t.name;this.setState(Object(me.a)({},s,a))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),fetch("/register_user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.state.username,email:this.state.email,password:this.state.passwd})}).then((function(e){return e.json()})).then((function(e){"Done"==e.response?t.props.history.push("/admin"):t.setState({error:e.error})}),(function(e){t.setState({isLoaded:!0,error:"Invalid user or email. Please contact the Administrator"})}))}},{key:"render",value:function(){return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(I.a,{lg:"6",md:"8",children:Object(M.jsx)(Q.a,{className:"bg-secondary shadow border-0",children:Object(M.jsxs)(X.a,{className:"px-lg-5 py-lg-5",children:[Object(M.jsx)("div",{className:"text-center text-muted mb-4",children:Object(M.jsx)("small",{children:"Sign up with credentials"})}),Object(M.jsxs)(g.a,{role:"form",children:[Object(M.jsx)(f.a,{children:Object(M.jsxs)(v.a,{className:"input-group-alternative mb-3",children:[Object(M.jsx)(N.a,{addonType:"prepend",children:Object(M.jsx)(y.a,{children:Object(M.jsx)("i",{className:"ni ni-hat-3"})})}),Object(M.jsx)(w.a,{placeholder:"Username",name:"username",type:"username",value:this.state.username,onChange:this.handleChange,autoComplete:"new-email"})]})}),Object(M.jsx)(f.a,{children:Object(M.jsxs)(v.a,{className:"input-group-alternative mb-3",children:[Object(M.jsx)(N.a,{addonType:"prepend",children:Object(M.jsx)(y.a,{children:Object(M.jsx)("i",{className:"ni ni-email-83"})})}),Object(M.jsx)(w.a,{placeholder:"Email",name:"email",type:"email",value:this.state.email,onChange:this.handleChange,autoComplete:"new-email"})]})}),Object(M.jsx)(f.a,{children:Object(M.jsxs)(v.a,{className:"input-group-alternative",children:[Object(M.jsx)(N.a,{addonType:"prepend",children:Object(M.jsx)(y.a,{children:Object(M.jsx)("i",{className:"ni ni-lock-circle-open"})})}),Object(M.jsx)(w.a,{placeholder:"Password",type:"password",name:"passwd",value:this.state.passwd,onChange:this.handleChange,autoComplete:"new-password"})]})}),this.state.error&&Object(M.jsxs)("p",{style:{color:"red"},children:[" Register Failed. ",this.state.error," "]}),Object(M.jsx)(V.a,{className:"my-4",children:Object(M.jsx)(I.a,{xs:"12",children:Object(M.jsxs)("div",{className:"custom-control custom-control-alternative custom-checkbox",children:[Object(M.jsx)("input",{className:"custom-control-input",id:"customCheckRegister",type:"checkbox"}),Object(M.jsx)("label",{className:"custom-control-label",htmlFor:"customCheckRegister",children:Object(M.jsxs)("span",{className:"text-muted",children:["I agree with the"," ",Object(M.jsx)("a",{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Privacy Policy"})]})})]})})}),Object(M.jsx)("div",{className:"text-center",children:Object(M.jsx)(re.a,{className:"my-4",color:"primary",type:"submit",onClick:this.handleSubmit,children:"Create account"})})]})]})})})})}}]),a}(c.a.Component),xe=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).onCreateAccount=function(){return Object(M.jsx)(o.a,{to:"/auth/Register"})},s.state={email:"",passwd:"",remember:"False",error:!1},s.handleChange=s.handleChange.bind(Object(F.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(F.a)(s)),s}return Object(h.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.value,s=t.name;this.setState(Object(me.a)({},s,a))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),fetch("/login/request",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.state.email,passwd:this.state.passwd})}).then((function(e){return e.json()})).then((function(e){"Done"==e.response?t.props.history.push("/admin"):t.setState({error:e.error})}),(function(e){t.setState({isLoaded:!0,error:"error"})}))}},{key:"render",value:function(){return Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)(I.a,{lg:"5",md:"7",children:[Object(M.jsx)(Q.a,{className:"bg-secondary shadow border-0",children:Object(M.jsxs)(X.a,{className:"px-lg-5 py-lg-5",children:[Object(M.jsx)("div",{className:"text-center text-muted mb-4",children:Object(M.jsx)("small",{children:"Sign in with credentials"})}),Object(M.jsxs)(g.a,{role:"form",children:[Object(M.jsx)(f.a,{className:"mb-3",children:Object(M.jsxs)(v.a,{className:"input-group-alternative",children:[Object(M.jsx)(N.a,{addonType:"prepend",children:Object(M.jsx)(y.a,{children:Object(M.jsx)("i",{className:"ni ni-email-83"})})}),Object(M.jsx)(w.a,{placeholder:"Email",name:"email",type:"email",value:this.state.email,onChange:this.handleChange,autoComplete:"new-email"})]})}),Object(M.jsx)(f.a,{children:Object(M.jsxs)(v.a,{className:"input-group-alternative",children:[Object(M.jsx)(N.a,{addonType:"prepend",children:Object(M.jsx)(y.a,{children:Object(M.jsx)("i",{className:"ni ni-lock-circle-open"})})}),Object(M.jsx)(w.a,{placeholder:"Password",type:"password",name:"passwd",value:this.state.passwd,onChange:this.handleChange,autoComplete:"new-password"})]})}),this.state.error&&Object(M.jsxs)("p",{style:{color:"red"},children:[" Login Failed. ",this.state.error," "]}),Object(M.jsxs)("div",{className:"custom-control custom-control-alternative custom-checkbox",children:[Object(M.jsx)("input",{className:"custom-control-input",id:" customCheckLogin",type:"checkbox"}),Object(M.jsx)("label",{className:"custom-control-label",htmlFor:" customCheckLogin",children:Object(M.jsx)("span",{className:"text-muted",children:"Remember me"})})]}),Object(M.jsx)("div",{className:"text-center",children:Object(M.jsx)(re.a,{className:"my-4",color:"primary",type:"submit",onClick:this.handleSubmit,children:"Sign in"})})]})]})}),Object(M.jsxs)(V.a,{className:"mt-3",children:[Object(M.jsx)(I.a,{xs:"6",children:Object(M.jsx)("a",{className:"text-light",href:"#pablo",onClick:function(e){return e.preventDefault()},children:Object(M.jsx)("small",{children:"Forgot password?"})})}),Object(M.jsx)(I.a,{className:"text-right",xs:"6",children:Object(M.jsx)("a",{className:"text-light",href:"/#auth/register",onClick:this.onCreateAccount,children:Object(M.jsx)("small",{children:"Create new account"})})})]})]})})}}]),a}(c.a.Component),Oe=a(529),ge=a(530),fe=a(531),ve=a(532);function Ne(e){var t=e.split("T");return[t[0],t[1].split(".")[0]]}var ye=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).redirect_to_details=function(e){return Object(M.jsx)(o.a,{to:"/admin/accident_details/".concat(e)})},s.getData=function(){var e=Object(x.a)(p.a.mark((function e(t){var a,n,c,r,i,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/num_accidents?quantity=".concat(s.state.dropdownIndex2));case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,s.setState((function(e){return{num_accidents:n}})),e.next=10,fetch("/range_accidents?id=".concat(t,"&filter=").concat(s.state.dropdownIndex,"&quantity=").concat(s.state.dropdownIndex2,"&order=").concat(s.state.dropdownIndex3));case 10:return c=e.sent,e.next=13,c.json();case 13:return 0==(r=e.sent).length?s.setState((function(e){return{error:"No accidents do Show"}})):s.setState((function(e){return{table_data:r,error:!1}})),e.next=17,fetch("/home");case 17:return i=e.sent,e.next=20,i.json();case 20:l=e.sent,s.setState((function(e){return{role:l.role}})),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),s.setState((function(e){return{error:"No accidents do Show"}}));case 27:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(t){return e.apply(this,arguments)}}(),s.setStatus=function(e){return 2===e?Object(M.jsx)(Oe.a,{color:"",className:"badge-dot badge-lg",children:Object(M.jsx)("i",{className:"bg-lime"})}):1===e?Object(M.jsx)(Oe.a,{color:"",className:"badge-dot badge-lg",children:Object(M.jsx)("i",{className:"bg-yellow"})}):Object(M.jsx)(Oe.a,{color:"",className:"badge-dot badge-lg",children:Object(M.jsx)("i",{className:"bg-red"})})},s.setFire=function(e){return 1===e?Object(M.jsx)(Oe.a,{color:"",className:"badge-dot badge-lg",children:Object(M.jsx)("i",{className:"bg-red"})}):Object(M.jsx)(Oe.a,{color:"",className:"badge-dot badge-lg",children:Object(M.jsx)("i",{className:"bg-lime"})})},s.renderArray=function(e,t){return Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{scope:"row",children:Object(M.jsxs)("span",{className:"mb-0 text-sm",children:[Ne(e.date)[0],Object(M.jsx)("br",{}),Ne(e.date)[1]]})}),Object(M.jsx)("th",{scope:"row",width:"5%",children:Object(M.jsx)("span",{className:"mb-0 text-sm",children:e.location.address.substring(0,45)})}),Object(M.jsx)("th",{scope:"row",width:"5%",children:Object(M.jsx)("span",{className:"mb-0 text-sm",children:e.city})}),Object(M.jsx)("th",{scope:"row",style:{textAlign:"center"},children:Object(M.jsx)("span",{className:"mb-0 text-sm",children:e.n_cars_involved})}),Object(M.jsx)("th",{scope:"row",style:{textAlign:"center"},children:Object(M.jsx)("span",{className:"mb-0 text-sm",children:e.n_people})}),Object(M.jsx)("th",{scope:"row",style:{textAlign:"center"},children:Object(M.jsx)("span",{className:"mb-0 text-sm",children:e.n_people_injured})}),Object(M.jsxs)("th",{scope:"row",style:{textAlign:"center"},children:[Object(M.jsx)("span",{className:"mr-2",children:e.damage}),Object(M.jsx)("div",{children:Object(M.jsx)(ge.a,{max:"100",value:e.damage,barClassName:s.getBarColor(e.damage)})})]}),Object(M.jsx)("th",{scope:"row",style:{textAlign:"center"},children:s.setStatus(e.status)}),Object(M.jsx)("th",{scope:"row",style:{textAlign:"center"},children:s.setFire(e.fire)}),Object(M.jsxs)("th",{scope:"row",style:{textAlign:"center"},children:[Object(M.jsx)(re.a,{className:"icon icon-shape bg-transparent border-default text-white rounded-circle",href:"/#admin/accident_details/".concat(e.id),onClick:s.redirect_to_details.bind(Object(F.a)(s),e.id),children:Object(M.jsx)("i",{className:"fas fa-ellipsis-h"})}),0==s.state.role&&Object(M.jsx)(re.a,{className:"icon icon-shape border-default bg-transparent text-danger ",type:"button",onClick:function(t){return s.handleDelete(e.id)},children:Object(M.jsx)("i",{className:"fas fa-trash"})})]})]},t)},s.handleClick=function(e,t){e.preventDefault(),s.state.curent_page=t,s.getData(t)},s.timer=null,s.toggleDrop1=s.toggleDrop1.bind(Object(F.a)(s)),s.changeValueDrop1=s.changeValueDrop1.bind(Object(F.a)(s)),s.toggleDrop2=s.toggleDrop2.bind(Object(F.a)(s)),s.changeValueDrop2=s.changeValueDrop2.bind(Object(F.a)(s)),s.toggleDrop3=s.toggleDrop3.bind(Object(F.a)(s)),s.changeValueDrop3=s.changeValueDrop3.bind(Object(F.a)(s)),s.state={table_data:[],table_buttons:[],curent_page:1,num_accidents:0,num_to_show:10,dropDown1Value:"Date/Hour",dropdownIndex:"between",dropdownIndex2:"All",dropdownIndex3:"Descending",dropDown1Open:!1,dropDown2Value:"From",dropDown2Open:!1,dropDown3Value:"Order by",dropDown3Open:!1,error:!1,role:1},s}return Object(h.a)(a,[{key:"getBarColor",value:function(e){return e<30?"bg-gradient-success":e<45?"bg-gradient-info":e<75?"bg-gradient-warning":"bg-gradient-danger"}},{key:"handleDelete",value:function(e){var t=this;fetch("/delete_accident/"+e,{method:"POST"}).then((function(e){return e.json()})).then((function(e){console.log(e),t.getData()}))}},{key:"renderButtons",value:function(){var e=this;if(this.state.num_accidents>this.state.num_to_show){var t=[];this.state.curent_page>1&&t.push(Object(M.jsx)("li",{className:"page-item",children:Object(M.jsx)("a",{className:"page-link",onClick:function(t){return e.handleClick(t,e.state.curent_page-1)},children:Object(M.jsx)("i",{className:"fas fa-angle-left"})})}));for(var a=function(a){a==e.state.curent_page?t.push(Object(M.jsx)("li",{className:"page-item active",children:Object(M.jsx)("a",{className:"page-link",onClick:function(t){return e.handleClick(t,"".concat(a))},children:a})})):t.push(Object(M.jsx)("li",{className:"page-item",children:Object(M.jsx)("a",{className:"page-link",onClick:function(t){return e.handleClick(t,"".concat(a))},children:a})}))},s=1;s<Math.ceil(this.state.num_accidents/this.state.num_to_show)+1;s++)a(s);return this.state.curent_page<Math.ceil(this.state.num_accidents/this.state.num_to_show)&&t.push(Object(M.jsx)("li",{className:"page-item",children:Object(M.jsx)("a",{className:"page-link",onClick:function(t){return e.handleClick(t,parseInt(e.state.curent_page)+1)},children:Object(M.jsx)("i",{className:"fas fa-angle-right"})})})),Object(M.jsx)("div",{className:"row justify-content-center",children:Object(M.jsx)("nav",{"aria-label":"Page navigation example",children:Object(M.jsx)("ul",{className:"pagination",children:t})})})}}},{key:"componentDidMount",value:function(){var e=this;this.getData(this.state.curent_page),this.timer=setInterval((function(){return e.getData(e.state.curent_page)}),1e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer),this.timer=null}},{key:"toggleDrop1",value:function(){this.setState({dropDown1Open:!this.state.dropDown1Open})}},{key:"toggleDrop2",value:function(){this.setState({dropDown2Open:!this.state.dropDown2Open})}},{key:"toggleDrop3",value:function(){this.setState({dropDown3Open:!this.state.dropDown3Open})}},{key:"changeValueDrop1",value:function(e,t){this.state.dropDown1Value=e.currentTarget.textContent,this.state.dropdownIndex="".concat(["","between","cars","people","injured","severity","status","fire"][t]),this.getData(this.state.curent_page)}},{key:"changeValueDrop2",value:function(e,t){this.state.dropDown2Value=e.currentTarget.textContent,this.state.dropdownIndex2="".concat(t),this.getData(this.state.curent_page)}},{key:"changeValueDrop3",value:function(e,t){this.state.dropDown3Value=e.currentTarget.textContent,this.state.dropdownIndex3="".concat(t),this.getData(this.state.curent_page)}},{key:"render",value:function(){var e=this;return this.state.error?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ne,{}),Object(M.jsx)(u.a,{className:"mt--7",fluid:!0,children:Object(M.jsx)(V.a,{className:"mt-5",children:Object(M.jsx)("div",{className:"col",children:Object(M.jsxs)(Q.a,{className:"bg-default shadow",children:[Object(M.jsx)(Y.a,{className:"bg-transparent border-0",children:Object(M.jsxs)(V.a,{children:[Object(M.jsx)(I.a,{children:Object(M.jsx)("div",{className:"row ml",children:Object(M.jsx)("h1",{className:"text-white mb-0",style:{paddingLeft:20},children:"Accidents"})})}),Object(M.jsx)(I.a,{children:this.renderButtons()}),Object(M.jsx)(I.a,{children:Object(M.jsxs)("div",{className:"row justify-content-end",children:[Object(M.jsx)("h4",{className:"mr-2 mt-2 text-white",children:"Sort by: "}),Object(M.jsxs)(fe.a,{isOpen:this.state.dropDown1Open,toggle:this.toggleDrop1,children:[Object(M.jsx)(C.a,{caret:!0,children:this.state.dropDown1Value}),Object(M.jsxs)(D.a,{right:!0,children:[Object(M.jsx)(A.a,{onClick:function(t){return e.changeValueDrop1(t,1)},children:"Date/Hour"}),Object(M.jsx)(A.a,{onClick:function(t){return e.changeValueDrop1(t,2)},children:"N\xba cars"}),Object(M.jsx)(A.a,{onClick:function(t){return e.changeValueDrop1(t,3)},children:"N\xba people"}),Object(M.jsx)(A.a,{onClick:function(t){return e.changeValueDrop1(t,4)},children:"N\xba injured"}),Object(M.jsx)(A.a,{onClick:function(t){return e.changeValueDrop1(t,5)},children:"Severity"}),Object(M.jsx)(A.a,{onClick:function(t){return e.changeValueDrop1(t,6)},children:"Status"}),Object(M.jsx)(A.a,{onClick:function(t){return e.changeValueDrop1(t,7)},children:"Fire"})]})]}),Object(M.jsxs)(fe.a,{className:"mr-2 ml-2",isOpen:this.state.dropDown2Open,toggle:this.toggleDrop2,children:[Object(M.jsx)(C.a,{caret:!0,children:this.state.dropDown2Value}),Object(M.jsxs)(D.a,{right:!0,children:[Object(M.jsx)(A.a,{onClick:function(t){return e.changeValueDrop2(t,"Today")},children:"Today"}),Object(M.jsx)(A.a,{onClick:function(t){return e.changeValueDrop2(t,"Yesterday")},children:"Yesterday"}),Object(M.jsx)(A.a,{onClick:function(t){return e.changeValueDrop2(t,"Last Month")},children:"Last Month"}),Object(M.jsx)(A.a,{onClick:function(t){return e.changeValueDrop2(t,"All")},children:"All"})]})]}),Object(M.jsxs)(fe.a,{isOpen:this.state.dropDown3Open,toggle:this.toggleDrop3,children:[Object(M.jsx)(C.a,{caret:!0,children:this.state.dropDown3Value}),Object(M.jsxs)(D.a,{right:!0,children:[Object(M.jsx)(A.a,{onClick:function(t){return e.changeValueDrop3(t,"Ascending")},children:"Ascending"}),Object(M.jsx)(A.a,{onClick:function(t){return e.changeValueDrop3(t,"Descending")},children:"Descending"})]})]})]})})]})}),Object(M.jsxs)("h1",{className:"text-white mb-0",style:{textAlign:"center"},children:[" ",this.state.error]}),Object(M.jsx)("br",{})]})})})})]}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ne,{}),Object(M.jsx)(u.a,{className:"mt--7",fluid:!0,children:Object(M.jsx)(V.a,{className:"mt-5",children:Object(M.jsx)("div",{className:"col",children:Object(M.jsxs)(Q.a,{className:"bg-default shadow",children:[Object(M.jsx)(Y.a,{className:"bg-transparent border-0",children:Object(M.jsxs)(V.a,{children:[Object(M.jsx)(I.a,{children:Object(M.jsx)("div",{className:"row ml",children:Object(M.jsx)("h1",{className:"text-white mb-0",style:{paddingLeft:20},children:"Accidents"})})}),Object(M.jsx)(I.a,{children:this.renderButtons()}),Object(M.jsx)(I.a,{children:Object(M.jsxs)("div",{className:"row justify-content-end",children:[Object(M.jsx)("h4",{className:"mr-2 mt-2 text-white",children:"Sort by: "}),Object(M.jsxs)(fe.a,{isOpen:this.state.dropDown1Open,toggle:this.toggleDrop1,children:[Object(M.jsx)(C.a,{caret:!0,children:this.state.dropDown1Value}),Object(M.jsxs)(D.a,{right:!0,children:[Object(M.jsx)(A.a,{onClick:function(t){return e.changeValueDrop1(t,1)},children:"Date/Hour"}),Object(M.jsx)(A.a,{onClick:function(t){return e.changeValueDrop1(t,2)},children:"N\xba cars"}),Object(M.jsx)(A.a,{onClick:function(t){return e.changeValueDrop1(t,3)},children:"N\xba people"}),Object(M.jsx)(A.a,{onClick:function(t){return e.changeValueDrop1(t,4)},children:"N\xba injured"}),Object(M.jsx)(A.a,{onClick:function(t){return e.changeValueDrop1(t,5)},children:"Severity"}),Object(M.jsx)(A.a,{onClick:function(t){return e.changeValueDrop1(t,6)},children:"Status"}),Object(M.jsx)(A.a,{onClick:function(t){return e.changeValueDrop1(t,7)},children:"Fire"})]})]}),Object(M.jsxs)(fe.a,{className:"mr-2 ml-2",isOpen:this.state.dropDown2Open,toggle:this.toggleDrop2,children:[Object(M.jsx)(C.a,{caret:!0,children:this.state.dropDown2Value}),Object(M.jsxs)(D.a,{right:!0,children:[Object(M.jsx)(A.a,{onClick:function(t){return e.changeValueDrop2(t,"Today")},children:"Today"}),Object(M.jsx)(A.a,{onClick:function(t){return e.changeValueDrop2(t,"Yesterday")},children:"Yesterday"}),Object(M.jsx)(A.a,{onClick:function(t){return e.changeValueDrop2(t,"Last Month")},children:"Last Month"}),Object(M.jsx)(A.a,{onClick:function(t){return e.changeValueDrop2(t,"All")},children:"All"})]})]}),Object(M.jsxs)(fe.a,{isOpen:this.state.dropDown3Open,toggle:this.toggleDrop3,children:[Object(M.jsx)(C.a,{caret:!0,children:this.state.dropDown3Value}),Object(M.jsxs)(D.a,{right:!0,children:[Object(M.jsx)(A.a,{onClick:function(t){return e.changeValueDrop3(t,"Ascending")},children:"Ascending"}),Object(M.jsx)(A.a,{onClick:function(t){return e.changeValueDrop3(t,"Descending")},children:"Descending"})]})]})]})})]})}),Object(M.jsxs)(ve.a,{bordered:!0,className:"align-items-center table-dark table-responsive",hover:!0,children:[Object(M.jsx)("thead",{className:"thead-dark",children:Object(M.jsxs)("tr",{children:[Object(M.jsxs)("th",{scope:"col ",style:{textAlign:"center"},children:[Object(M.jsx)("div",{align:"center",className:"icon icon-shape bg-transparent text-white rounded-circle",children:Object(M.jsx)("i",{className:"fas fa-calendar-alt"})}),Object(M.jsx)("div",{children:Object(M.jsx)("span",{className:"ml-1",children:"Date/Hour"})})]}),Object(M.jsxs)("th",{scope:"col",style:{textAlign:"center"},children:[Object(M.jsx)("div",{className:"icon icon-shape bg-transparent text-white rounded-circle",children:Object(M.jsx)("i",{className:"fas fa-map-marked-alt"})}),Object(M.jsx)("div",{children:Object(M.jsx)("span",{className:"ml-1",children:"Location"})})]}),Object(M.jsxs)("th",{scope:"col",style:{textAlign:"center"},children:[Object(M.jsx)("div",{className:"icon icon-shape bg-transparent text-white rounded-circle",children:Object(M.jsx)("i",{className:"fas fa-building"})}),Object(M.jsx)("div",{children:Object(M.jsx)("span",{className:"ml-1",children:"City"})})]}),Object(M.jsxs)("th",{scope:"col",style:{textAlign:"center"},children:[Object(M.jsx)("div",{className:"icon icon-shape bg-transparent text-white rounded-circle",children:Object(M.jsx)("i",{className:"fas fa-car"})}),Object(M.jsx)("div",{children:Object(M.jsx)("span",{className:"ml-1",children:"N\xba cars"})})]}),Object(M.jsxs)("th",{scope:"col",style:{textAlign:"center"},children:[Object(M.jsx)("div",{className:"icon icon-shape bg-transparent text-white rounded-circle",children:Object(M.jsx)("i",{className:"fas fa-users"})}),Object(M.jsx)("div",{children:Object(M.jsx)("span",{className:"ml-1",children:"N\xba people"})})]}),Object(M.jsxs)("th",{scope:"col",style:{textAlign:"center"},children:[Object(M.jsx)("div",{className:"icon icon-shape bg-transparent text-white rounded-circle",children:Object(M.jsx)("i",{className:"fas fa-user-injured"})}),Object(M.jsx)("div",{children:Object(M.jsx)("span",{className:"ml-1",children:"N\xbainjured"})})]}),Object(M.jsxs)("th",{scope:"col",style:{textAlign:"center"},children:[Object(M.jsx)("div",{className:"icon icon-shape bg-transparent text-white rounded-circle",children:Object(M.jsx)("i",{className:"fas fa-exclamation-triangle"})}),Object(M.jsx)("div",{children:Object(M.jsx)("span",{className:"ml-1",children:"Severity"})})]}),Object(M.jsxs)("th",{scope:"col",style:{textAlign:"center"},children:[Object(M.jsx)("div",{className:"icon icon-shape bg-transparent text-white rounded-circle",children:Object(M.jsx)("i",{className:"fas fa-flag"})}),Object(M.jsx)("div",{children:Object(M.jsx)("span",{className:"ml-1",children:"Status"})})]}),Object(M.jsxs)("th",{scope:"col",style:{textAlign:"center"},children:[Object(M.jsx)("div",{className:"icon icon-shape bg-transparent text-white rounded-circle",children:Object(M.jsx)("i",{className:"fas fa-fire"})}),Object(M.jsx)("div",{children:Object(M.jsx)("span",{className:"ml-1",children:"Fire"})})]}),Object(M.jsx)("th",{scope:"col",style:{textAlign:"center"}})]})}),Object(M.jsx)("tbody",{children:this.state.table_data.map(this.renderArray)})]}),Object(M.jsx)(Y.a,{className:"bg-transparent border-0",children:Object(M.jsx)(V.a,{children:Object(M.jsx)(I.a,{className:"row justify-content-center",children:this.renderButtons()})})})]})})})})]})}}]),a}(c.a.Component),we=a(224),_e=a.n(we),ke=a(225),Ce=a.n(ke),Se=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).els={videoWrapper:null},s}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return Object(M.jsx)("div",{className:this.props.wrapperClassName,ref:function(t){return e.els.videoWrapper=t}})}},{key:"componentDidMount",value:function(){this.video=new Ce.a.VideoElement(this.els.videoWrapper,this.props.videoUrl,this.props.options,this.props.overlayOptions),this.props.onRef&&this.props.onRef(this)}},{key:"play",value:function(){this.video.play()}},{key:"pause",value:function(){this.video.pause()}},{key:"stop",value:function(){this.video.stop()}},{key:"destroy",value:function(){this.video.destroy()}}]),a}(n.Component),De=(a(472),a(475),a(533)),Ae=a(226),Me=a.n(Ae),Te=(a(476),"https://raw.githubusercontent.com/xiaolin/react-image-gallery/master/static/"),Ve={poster:"./big_buck_bunny_640x360.jpg"},Ie={},Le=null;function Fe(e){var t=e.split("T");return t[0]+" "+t[1].split(".")[0]}var Pe,Ee,Ue,Be=function(e){Object(j.a)(s,e);var t=Object(b.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).get_data=function(){var e=Object(x.a)(p.a.mark((function e(t){var s,n,c,r,i,l,o,d,h,j,b,u,m,x,O,g,f;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/list_accidents");case 2:return s=e.sent,e.next=5,s.json();case 5:for(n=e.sent,c=[],r=0;r<n.length;r++)parseInt(n[r].id)!=parseInt(a.props.match.params.id)&&c.push({lat:n[r].location.lat,lng:n[r].location.lng,id:n[r].id,status:4});if(c.push({id:a.props.match.params.id,lat:a.state.accident_data.location.coords.lat,lng:a.state.accident_data.location.coords.lng,status:a.state.accident_data.status}),c.push({id:a.props.match.params.id,lat:a.state.accident_data.location.coords_amb.lat,lng:a.state.accident_data.location.coords_amb.lng,status:3}),void 0!=a.state.surrounding_cars)for(i=0;i<a.state.surrounding_cars.length;i++)c.push({id:a.state.surrounding_cars[i].car_id,lat:parseFloat(a.state.surrounding_cars[i].latitude),lng:parseFloat(a.state.surrounding_cars[i].longitude),id_acc:a.props.match.params.id,status:5});if(void 0!=a.state.surrounding_cameras)for(l=0;l<a.state.surrounding_cameras.length;l++)c.push({id:a.state.surrounding_cameras[l].id,lat:parseFloat(a.state.surrounding_cameras[l].latitude),lng:parseFloat(a.state.surrounding_cameras[l].longitude),id_acc:a.props.match.params.id,status:6});return a.all_locations=c,e.next=15,fetch("/videos/".concat(t));case 15:return e.next=17,e.sent.json();case 17:return o=e.sent,e.next=20,fetch("/markers/".concat(t));case 20:return d=e.sent,e.next=23,d.json();case 23:return h=e.sent,e.next=26,fetch("/CarsMarkers/".concat(t));case 26:return e.next=28,e.sent.json();case 28:return j=e.sent,e.next=31,fetch("/accident/".concat(t));case 31:return d=e.sent,e.next=34,d.json();case 34:return b=e.sent,e.next=37,fetch("/ambulances_by_user");case 37:return d=e.sent,e.next=40,d.json();case 40:return u=e.sent,console.log(u),a.setState((function(e){return{accident_data:{car:b.cars,location:{address:b.location.address,coords:{lat:b.location.lat,lng:b.location.lng},coords_amb:{lat:parseFloat(h.lat),lng:parseFloat(h.lng)}},damage:b.damage,date:Fe(b.date),n_cars_involved:b.n_cars_involved,n_people_involved:b.n_people,n_people_injured:parseInt(b.n_people_injured),status:b.status},live_ports:o[t],surrounding_cars:j.carData,surrounding_cameras:e.surrounding_cameras,video_total:parseInt(b["video_total,oca"]),dropDownValue:a.init_text_dropdown(parseInt(b.status)),user_ambulances:u}})),console.log(a.state.user_ambulances),console.log(a.state.ambulance),e.next=47,fetch("/Nmedia/".concat(t,"/photos"));case 47:return m=e.sent,e.next=50,m.json();case 50:if(x=e.sent,a.numImg=parseInt(x),O=[],a.state.video_total>0)for(g=1;g<a.state.video_total+1;g++)O.push({thumbnail:"/media/".concat(t,"/video/").concat(g,"T.jpg"),original:"/media/".concat(t,"/video/").concat(g,"T.jpg"),source:"/media/".concat(t,"/video/").concat(g,".mp4"),renderItem:a._renderVideo.bind(Object(F.a)(a))});else O.push({thumbnail:"/media/novideo.png",original:"/media/novideo.png"});for(f=0;f<a.numImg;f++)O.push({thumbnail:"/media/".concat(t,"/photos/").concat(f,".jpeg"),original:"/media/".concat(t,"/photos/").concat(f,".jpeg")});a.setState((function(e){return a.images=O}));case 56:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.get_cameras=function(){var e=Object(x.a)(p.a.mark((function e(t){var s,n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.all_locations,e.next=3,fetch("/CameraMarkers/".concat(t));case 3:return e.next=5,e.sent.json();case 5:if(n=e.sent,a.setState((function(e){return{surrounding_cameras:n.camData}})),void 0!=a.state.surrounding_cameras)for(c=0;c<a.state.surrounding_cameras.length;c++)s.push({id:a.state.surrounding_cameras[c].id,lat:parseFloat(a.state.surrounding_cameras[c].latitude),lng:parseFloat(a.state.surrounding_cameras[c].longitude),id_acc:a.props.match.params.id,status:6});a.all_locations=s;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.renderAlertLives=function(e,t){return Object(M.jsxs)(Me.a,{color:"success",class:"alert",children:[Object(M.jsx)("span",{className:"alert-inner--icon",children:Object(M.jsx)("i",{className:"ni ni-like-2"})})," ",Object(M.jsx)("span",{className:"alert-inner--text",children:Object(M.jsx)("strong",{children:"A LIVESTREAM WAS FOUND!"})})]})},a.renderUserAmbs=function(e,t){var a="amb"+String(t);return console.log(e+"  "+t),Object(M.jsx)("option",{value:a,children:e})},a.renderLivestream=function(e,t){var a=String(e.port).split(":")[2]-9e3;return a<1e3?Object(M.jsxs)(X.a,{className:"border rounded",children:[Object(M.jsxs)(K.a,{tag:"h4",className:"text-uppercase text-muted mb-0",children:["Livestream ",t+1]}),Object(M.jsxs)(X.a,{className:"align-content-center",children:[Object(M.jsxs)(V.a,{children:[Object(M.jsx)("span",{className:"font-weight-bold",children:"Car id"}),Object(M.jsxs)("span",{children:[": ",String(a)]})]}),Object(M.jsx)(I.a,{lg:"6",xl:"9",children:Object(M.jsx)(Q.a,{className:"card-stats mb-4 mb-xl-0",children:Object(M.jsx)(X.a,{className:"border rounded border-info",children:Object(M.jsxs)(V.a,{children:[Object(M.jsx)("div",{children:Object(M.jsx)(Se,{wrapperClassName:"video-wrapper",videoUrl:String(e.port),options:Ve,overlayOptions:Ie,onRef:function(e){return Le=e}})}),Object(M.jsxs)("div",{className:"buttons-wrapper",children:[Object(M.jsx)(re.a,{onClick:function(){return Le.play()},children:"Play"}),Object(M.jsx)(re.a,{onClick:function(){return Le.pause()},children:"Pause"}),Object(M.jsx)(re.a,{onClick:function(){return Le.stop()},children:"Stop"})]})]})})})})]})]}):Object(M.jsxs)(X.a,{className:"border rounded",children:[Object(M.jsxs)(K.a,{tag:"h4",className:"text-uppercase text-muted mb-0",children:["Livestream ",t+1]}),Object(M.jsxs)(X.a,{className:"align-content-center",children:[Object(M.jsxs)(V.a,{children:[Object(M.jsx)("span",{className:"font-weight-bold",children:"Camera id"}),Object(M.jsxs)("span",{children:[": ",String(a)]})]}),Object(M.jsx)(I.a,{lg:"6",xl:"9",children:Object(M.jsx)(Q.a,{className:"card-stats mb-4 mb-xl-0",children:Object(M.jsx)(X.a,{className:"border rounded border-info",children:Object(M.jsxs)(V.a,{children:[Object(M.jsx)("div",{children:Object(M.jsx)(Se,{wrapperClassName:"video-wrapper",videoUrl:String(e.port),options:Ve,overlayOptions:Ie,onRef:function(e){return Le=e}})}),Object(M.jsxs)("div",{className:"buttons-wrapper",children:[Object(M.jsx)(re.a,{onClick:function(){return Le.play()},children:"Play"}),Object(M.jsx)(re.a,{onClick:function(){return Le.pause()},children:"Pause"}),Object(M.jsx)(re.a,{onClick:function(){return Le.stop()},children:"Stop"})]})]})})})})]})]})},a.renderCars=function(e,t){return Object(M.jsxs)(X.a,{className:"border rounded",children:[Object(M.jsxs)(K.a,{tag:"h4",className:"text-uppercase text-muted mb-0",children:["Car ",t+1]}),Object(M.jsxs)(X.a,{className:"align-content-center",children:[Object(M.jsxs)(V.a,{children:[Object(M.jsx)("span",{className:"font-weight-bold",children:"Activated ABS"}),Object(M.jsxs)("span",{children:[": ",String(e.ABS)]})]}),Object(M.jsxs)(V.a,{children:[Object(M.jsx)("span",{className:"font-weight-bold",children:"Fired Airbag"}),Object(M.jsxs)("span",{children:[": ",String(e.airbag)]})]}),Object(M.jsxs)(V.a,{children:[Object(M.jsx)("span",{className:"font-weight-bold",children:"Passengers"}),Object(M.jsxs)("span",{children:[": ",e.n_people," "]})]}),Object(M.jsxs)(V.a,{children:[Object(M.jsx)("span",{className:"font-weight-bold",children:"Overturned"}),Object(M.jsxs)("span",{children:[": ",String(e.overturned)]})]}),Object(M.jsxs)(V.a,{children:[Object(M.jsx)("span",{className:"font-weight-bold",children:"Temperature"}),Object(M.jsxs)("span",{children:[": ",e.temperature]})]}),Object(M.jsxs)(V.a,{children:[Object(M.jsx)("span",{className:"font-weight-bold",children:"Collision velocity"}),Object(M.jsxs)("span",{children:[": ",e.velocity]})]})]})]})},a.onGoBack=function(){return Object(M.jsx)(o.a,{to:"/admin/accidents"})},a.handleClick=function(e,t,s){e.preventDefault();var n=a.state.accident_data.n_people_injured+s;n>=0&&(a.setState((function(){return a.state.accident_data.n_people_injured=n})),a.set_injured(t,n))},a.getSelectValue=Object(x.a)(p.a.mark((function e(){var t,s,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("ambs"),s=t.options[t.selectedIndex].text,console.log(s),e.next=5,a.myChangeHandler(s);case 5:console.log("asdasd"+a.state.ambulance),a.updateDBToSelectedStatus("Emergency services are on their way"),n=a.props.match.params.id,fetch("/markers/".concat(n),{method:"POST",cache:"no-cache",headers:{"content-type":"application/json"},body:JSON.stringify({ambulance:a.state.ambulance})}).then((function(e){return e.json()})).then((function(e){a.setState({ambulance:e[0]})}));case 9:case"end":return e.stop()}}),e)}))),a.mySubmitHandler=function(e,t){e.preventDefault(),alert("You are submitting "+a.state.ambulance),a.updateDBToSelectedStatus("Emergency services are on their way"),fetch("/markers/".concat(t),{method:"POST",cache:"no-cache",headers:{"content-type":"application/json"},body:JSON.stringify({ambulance:a.state.ambulance})}).then((function(e){return e.json()})).then((function(e){a.setState({ambulance:e[0]})}))},a.myChangeHandler=function(e){a.setState({ambulance:e})},a.timer=null,a.toggle=a.toggle.bind(Object(F.a)(a)),a.changeValue=a.changeValue.bind(Object(F.a)(a)),a.all_locations=[],a.state={ambulance:0,user_ambulances:[],showIndex:!1,showBullets:!0,infinite:!0,showThumbnails:!0,showFullscreenButton:!0,showGalleryFullscreenButton:!0,showPlayButton:!1,showGalleryPlayButton:!1,showNav:!0,isRTL:!1,slideDuration:5,slideInterval:2e3,slideOnThumbnailOver:!1,thumbnailPosition:"left",showVideo:{},video_total:0,photos_total:0,accident_data:{car:[],location:{address:" ",coords:{lat:40,lng:30},coords_amb:{lat:40,lng:30}},damage:0,date:" ",n_cars_involved:0,n_people_involved:0,n_people_injured:0},live_ports:[],dropDownValue:0,dropDownOpen:!1},a.numImg=0,a.images=[{thumbnail:"",original:"",source:"",renderItem:a._renderVideo.bind(Object(F.a)(a))},{original:"",thumbnail:"",imageSet:[{srcSet:"".concat(Te,"image_set_cropped.jpg"),media:"(max-width: 1280px)"},{srcSet:"".concat(Te,"image_set_default.jpg"),media:"(min-width: 1280px)"}]},{original:"".concat(Te,"1.jpg"),thumbnail:"".concat(Te,"1t.jpg"),originalClass:"featured-slide",thumbnailClass:"featured-thumb"}],a}return Object(h.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;this.get_data(t),this.get_cameras(t),this.timer=setInterval((function(){return e.get_data(t)}),1e3)}},{key:"componentDidUpdate",value:function(e,t){this.state.slideInterval===t.slideInterval&&this.state.slideDuration===t.slideDuration||(this._imageGallery.pause(),this._imageGallery.play())}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer),this.timer=null}},{key:"_onImageClick",value:function(e){console.debug("clicked on image",e.target,"at index",this._imageGallery.getCurrentIndex())}},{key:"_onImageLoad",value:function(e){console.debug("loaded image",e.target.src)}},{key:"_onSlide",value:function(e){this._resetVideo(),console.debug("slid to index",e)}},{key:"_onPause",value:function(e){console.debug("paused on index",e)}},{key:"_onScreenChange",value:function(e){console.debug("isFullScreen?",!!e)}},{key:"_onPlay",value:function(e){console.debug("playing from index",e)}},{key:"_resetVideo",value:function(){this.setState({showVideo:{}}),this.state.showPlayButton&&this.setState({showGalleryPlayButton:!0}),this.state.showFullscreenButton&&this.setState({showGalleryFullscreenButton:!0})}},{key:"_toggleShowVideo",value:function(e){this.state.showVideo[e]=!Boolean(this.state.showVideo[e]),this.setState({showVideo:this.state.showVideo}),this.state.showVideo[e]&&(this.state.showPlayButton&&this.setState({showGalleryPlayButton:!1}),this.state.showFullscreenButton&&this.setState({showGalleryFullscreenButton:!1}))}},{key:"_renderVideo",value:function(e){return Object(M.jsx)("div",{children:this.state.showVideo[e.source]?Object(M.jsxs)("div",{className:"video-wrapper",children:[Object(M.jsx)("a",{className:"close-video",onClick:this._toggleShowVideo.bind(this,e.source)}),Object(M.jsxs)("video",{autoPlay:!0,controls:!0,children:["// width='100%' // height='100%'",Object(M.jsx)("source",{src:e.source,type:"video/mp4"}),"// frameBorder='0' // allowFullScreen"]})]}):Object(M.jsxs)("a",{onClick:this._toggleShowVideo.bind(this,e.source),children:[Object(M.jsx)("div",{className:"play-button"}),Object(M.jsx)("img",{className:"image-gallery-image",src:e.original}),e.description&&Object(M.jsx)("span",{className:"image-gallery-description",style:{right:"0",left:"initial",height:"100%"},children:e.description})]})})}},{key:"toggle",value:function(){this.setState({dropDownOpen:!this.state.dropDownOpen})}},{key:"changeValue",value:function(e){this.updateDBToSelectedStatus(e.currentTarget.textContent),this.setState({dropDownValue:e.currentTarget.textContent})}},{key:"getBarColor",value:function(e){return e<30?"h2 font-weight-bold mb-0 text-success":e<45?"h2 font-weight-bold mb-0 text-teal":e<75?"h2 font-weight-bold mb-0 text-orange":"h2 font-weight-bold mb-0 text-red"}},{key:"setStatusColor",value:function(){return"Accident resolved"===this.state.dropDownValue?Object(M.jsx)(Oe.a,{color:"",className:"badge-dot badge-lg",children:Object(M.jsx)("i",{className:"bg-lime"})}):"Emergency services are on their way"===this.state.dropDownValue?Object(M.jsx)(Oe.a,{color:"",className:"badge-dot badge-lg",children:Object(M.jsx)("i",{className:"bg-yellow"})}):Object(M.jsx)(Oe.a,{color:"",className:"badge-dot badge-lg",children:Object(M.jsx)("i",{className:"bg-red"})})}},{key:"init_text_dropdown",value:function(e){return 2===e?"Accident resolved":1===e?"Emergency services are on their way":"Accident still not answered"}},{key:"updateDBToSelectedStatus",value:function(e){"Accident resolved"===e&&fetch("/set_accident_status/".concat(this.props.match.params.id),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:2})}),"Emergency services are on their way"===e?fetch("/set_accident_status/".concat(this.props.match.params.id),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:1})}):fetch("/set_accident_status/".concat(this.props.match.params.id),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:0})})}},{key:"set_injured",value:function(e,t){fetch("/set_accident_injured/".concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({injured:"".concat(t)})})}},{key:"render",value:function(){var e=this;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ne,{}),Object(M.jsx)(u.a,{className:" mt--7",fluid:!0,children:Object(M.jsx)(V.a,{children:Object(M.jsx)(I.a,{className:" col",children:Object(M.jsxs)(Q.a,{className:" shadow",children:[Object(M.jsx)(Y.a,{className:" bg-transparent",children:Object(M.jsxs)(V.a,{children:[Object(M.jsx)(I.a,{children:Object(M.jsxs)("div",{className:"d-flex",children:[Object(M.jsx)(re.a,{className:"icon icon-shape bg-info text-white rounded-circle shadow",href:"/#admin/accidents",onClick:this.onGoBack(),children:Object(M.jsx)("i",{className:"fas fa-angle-left"})}),Object(M.jsx)("h2",{className:" mt-2 ml-4 ",children:"Accident Details"})]})}),Object(M.jsx)(I.a,{children:Object(M.jsxs)("div",{className:"row justify-content-end",children:[Object(M.jsx)("div",{className:"mr-2",children:this.setStatusColor()}),Object(M.jsx)("div",{className:"mr-2 ",children:Object(M.jsxs)(fe.a,{className:"dropdown-width",isOpen:this.state.dropDownOpen,toggle:this.toggle,children:[Object(M.jsx)(C.a,{caret:!0,children:this.state.dropDownValue}),Object(M.jsxs)(D.a,{right:!0,children:[Object(M.jsx)(A.a,{onClick:this.changeValue,children:"Accident still not answered"}),Object(M.jsx)(A.a,{onClick:this.changeValue,children:"Emergency services are on their way"}),Object(M.jsx)(A.a,{onClick:this.changeValue,children:"Accident resolved"})]})]})})]})})]})}),Object(M.jsxs)(X.a,{children:[Object(M.jsxs)(V.a,{className:"h-75 ",children:[Object(M.jsxs)(I.a,{children:[Object(M.jsx)(V.a,{children:Object(M.jsx)("div",{className:"col",children:Object(M.jsx)("img",{src:a(487),style:{height:"100%",width:"100%"}})})}),Object(M.jsx)(V.a,{children:Object(M.jsx)("div",{className:"col",children:Object(M.jsxs)("p",{children:[Object(M.jsx)("strong",{children:"Address:"})," ",this.state.accident_data.location.address]})})}),Object(M.jsxs)(V.a,{children:[Object(M.jsx)("div",{className:"col-sm",children:Object(M.jsxs)("p",{children:[Object(M.jsx)("strong",{children:"Lat:"})," ",this.state.accident_data.location.coords.lat]})}),Object(M.jsx)("div",{className:"col-sm",children:Object(M.jsxs)("p",{children:[Object(M.jsx)("strong",{children:"Lng:"})," ",this.state.accident_data.location.coords.lng]})})]})]}),Object(M.jsx)(I.a,{children:Object(M.jsx)(X.a,{children:Object(M.jsx)(_e.a,{ref:function(t){return e._imageGallery=t},items:this.images,lazyLoad:!1,onClick:this._onImageClick.bind(this),onImageLoad:this._onImageLoad,onSlide:this._onSlide.bind(this),onPause:this._onPause.bind(this),onScreenChange:this._onScreenChange.bind(this),onPlay:this._onPlay.bind(this),infinite:this.state.infinite,showBullets:this.state.showBullets,showFullscreenButton:this.state.showFullscreenButton&&this.state.showGalleryFullscreenButton,showPlayButton:this.state.showPlayButton&&this.state.showGalleryPlayButton,showThumbnails:this.state.showThumbnails,showIndex:this.state.showIndex,showNav:this.state.showNav,isRTL:this.state.isRTL,thumbnailPosition:this.state.thumbnailPosition,slideDuration:parseInt(this.state.slideDuration),slideInterval:parseInt(this.state.slideInterval),slideOnThumbnailOver:this.state.slideOnThumbnailOver,additionalClass:"app-image-gallery"})})})]}),Object(M.jsx)(be,{markers:this.all_locations,origem:this.state.accident_data.location.coords,destino:this.state.accident_data.location.coords_amb,googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyA03XhgCxn-V9TsghBLpQ8LaScQLPgIJxs",loadingElement:Object(M.jsx)("div",{style:{height:"100%"}}),center:this.state.accident_data.location.coords,containerElement:Object(M.jsx)("div",{className:"map-canvas",id:"map-canvas"}),mapElement:Object(M.jsx)("div",{style:{height:"100%",borderRadius:"inherit"}})}),Object(M.jsx)(Y.a,{children:Object(M.jsx)("h3",{children:" "})}),this.state.live_ports.map(this.renderAlertLives),Object(M.jsxs)(V.a,{children:[Object(M.jsx)(I.a,{lg:"6",xl:"3",children:Object(M.jsx)(Q.a,{className:"card-stats mb-4 mb-xl-0",children:Object(M.jsx)(X.a,{className:"border rounded border-info",children:Object(M.jsxs)(V.a,{children:[Object(M.jsxs)("div",{className:"col",children:[Object(M.jsx)(K.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"Number of cars involved"}),Object(M.jsx)("span",{className:"h2 font-weight-bold mb-0",children:this.state.accident_data.n_cars_involved})]}),Object(M.jsx)(I.a,{className:"col-auto",children:Object(M.jsx)(re.a,{className:"icon icon-shape bg-success text-dark rounded-circle shadow",id:"toggler",children:Object(M.jsx)("i",{className:"fas fa-car"})})})]})})})}),Object(M.jsx)(I.a,{lg:"6",xl:"3",children:Object(M.jsx)(Q.a,{className:"card-stats mb-4 mb-xl-0",children:Object(M.jsx)(X.a,{className:"border rounded border-info",children:Object(M.jsxs)(V.a,{children:[Object(M.jsxs)("div",{className:"col",children:[Object(M.jsx)(K.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"Number of persons involved"}),Object(M.jsx)("span",{className:"h2 font-weight-bold mb-0",children:this.state.accident_data.n_people_involved})]}),Object(M.jsx)(I.a,{className:"col-auto",children:Object(M.jsx)("div",{className:"icon icon-shape bg-info text-dark rounded-circle shadow",children:Object(M.jsx)("i",{className:"fas fa-users"})})})]})})})}),Object(M.jsx)(I.a,{lg:"6",xl:"3",children:Object(M.jsx)(Q.a,{className:"card-stats mb-4 mb-xl-0",children:Object(M.jsx)(X.a,{className:"border rounded border-info",children:Object(M.jsxs)(V.a,{children:[Object(M.jsxs)("div",{className:"col",children:[Object(M.jsx)(K.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"Number of persons injured"}),Object(M.jsxs)("span",{className:"h2 font-weight-bold mb-0",children:[Object(M.jsx)(re.a,{className:" icon-sm icon-shapesm bg-warning text-dark shadow",onClick:function(t){return e.handleClick(t,e.props.match.params.id,-1)},children:Object(M.jsx)("i",{className:"fas fa-minus"})}),this.state.accident_data.n_people_injured,Object(M.jsx)(re.a,{className:" icon-sm icon-shapesm bg-success text-dark shadow",onClick:function(t){return e.handleClick(t,e.props.match.params.id,1)},children:Object(M.jsx)("i",{className:"fas fa-plus"})})]})]}),Object(M.jsx)(I.a,{className:"col-auto",children:Object(M.jsx)("div",{className:"icon icon-shape bg-danger text-dark rounded-circle shadow",children:Object(M.jsx)("i",{className:"fas fa-user-injured"})})})]})})})}),Object(M.jsx)(I.a,{lg:"6",xl:"3",children:Object(M.jsx)(Q.a,{className:"card-stats mb-4 mb-xl-0",children:Object(M.jsx)(X.a,{className:"border rounded border-info",children:Object(M.jsxs)(V.a,{children:[Object(M.jsxs)("div",{className:"col",children:[Object(M.jsx)(K.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"Severity of the accident"}),Object(M.jsx)("span",{className:this.getBarColor(this.state.accident_data.damage),children:this.state.accident_data.damage})]}),Object(M.jsx)(I.a,{className:"col-auto",children:Object(M.jsx)("div",{className:"icon icon-shape bg-yellow text-dark rounded-circle shadow",children:Object(M.jsx)("i",{className:"fas fa-exclamation-triangle"})})})]})})})}),Object(M.jsx)(I.a,{lg:"6",xl:"3",children:Object(M.jsx)(Q.a,{className:"card-stats mb-4 mb-xl-0",children:Object(M.jsx)(X.a,{className:"border rounded border-info",children:Object(M.jsxs)(V.a,{children:[Object(M.jsxs)("div",{className:"col",children:[Object(M.jsx)(K.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:"Livestreams"}),Object(M.jsx)("span",{className:"h2 font-weight-bold mb-0",children:this.state.live_ports.length})]}),Object(M.jsx)(I.a,{className:"col-auto",children:Object(M.jsx)(re.a,{className:"icon icon-shape bg-success text-dark rounded-circle shadow",id:"togglerLives",children:Object(M.jsx)("i",{className:"fas fa-video"})})})]})})})}),Object(M.jsx)(I.a,{lg:"6",xl:"3",children:Object(M.jsx)(Q.a,{className:"card-stats mb-4 mb-xl-0",style:{width:"35rem"},children:Object(M.jsx)(X.a,{className:"border rounded border-info",children:Object(M.jsx)(V.a,{children:Object(M.jsx)("div",{className:"col",children:Object(M.jsx)(K.a,{tag:"h5",className:"text-uppercase text-muted mb-0",children:Object(M.jsx)("label",{children:Object(M.jsxs)("div",{children:[Object(M.jsx)("label",{for:"ambs",children:"Choose a Ambulance\xa0"}),Object(M.jsx)("select",{name:"ambs",id:"ambs",onChange:this.getSelectValue,children:this.state.user_ambulances.map(this.renderUserAmbs)})]})})})})})})})})]}),Object(M.jsx)(De.a,{toggler:"#toggler",children:Object(M.jsx)(Q.a,{children:Object(M.jsx)(X.a,{children:Object(M.jsx)(V.a,{children:this.state.accident_data.car.map(this.renderCars)})})})}),Object(M.jsx)(De.a,{toggler:"#togglerLives",children:Object(M.jsx)(Q.a,{children:Object(M.jsx)(X.a,{children:Object(M.jsx)(V.a,{children:this.state.live_ports.map(this.renderLivestream)})})})})]})]})})})})]})}}]),s}(c.a.Component),Re=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).getData=Object(x.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/home");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,s.setState((function(e){return{Username:a.Username,email:a.email,about:a.about,address:a.address,birth_date:a.birth_date,country:a.country,city:a.city,first_name:a.first_name,last_name:a.last_name,postal_code:a.postal_code,profession:a.profession,telephone:a.telephone,work_institution:a.work_institution}})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),s.setState((function(e){return{error:"No accidents do Show"}}));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),s.onSaveChanges=function(){fetch("/update_user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Username:s.state.Username,last_email:s.state.email,about:s.state.about,address:s.state.address,birth_date:s.state.birth_date,country:s.state.country,first_name:s.state.first_name,last_name:s.state.last_name,postal_code:s.state.postal_code,profession:s.state.profession,telephone:s.state.telephone,work_institution:s.state.work_institution})}).then((function(e){return e.json()})).then((function(e){"Done"==e.response?s.props.history.push("/admin"):s.setState({error:e.error})}),(function(e){s.setState({isLoaded:!0,error:"error"})}))},s.state={user:[],Username:"",about:"",address:"",birth_date:"",city:"",country:"",email:"",first_name:"",last_name:"",postal_code:"",profession:"",telephone:"",work_institution:""},s.handleChange=s.handleChange.bind(Object(F.a)(s)),s}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"handleChange",value:function(e){var t=e.target,a=t.value,s=t.name;this.setState(Object(me.a)({},s,a))}},{key:"render",value:function(){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ie,{}),Object(M.jsx)(u.a,{className:"mt--7",fluid:!0,children:Object(M.jsx)(V.a,{children:Object(M.jsx)(I.a,{children:Object(M.jsxs)(Q.a,{className:"bg-secondary shadow",children:[Object(M.jsx)(Y.a,{className:"bg-white border-0",children:Object(M.jsx)(V.a,{className:"align-items-center",children:Object(M.jsx)(I.a,{xs:"8",children:Object(M.jsx)("h3",{className:"mb-0",children:"My account"})})})}),Object(M.jsx)(X.a,{children:Object(M.jsxs)(g.a,{children:[Object(M.jsx)("h6",{className:"heading-small text-muted mb-4",children:"User information"}),Object(M.jsxs)("div",{className:"pl-lg-4",children:[Object(M.jsxs)(V.a,{children:[Object(M.jsx)(I.a,{lg:"6",children:Object(M.jsxs)(f.a,{children:[Object(M.jsx)("label",{className:"form-control-label",htmlFor:"input-username",children:"Username"}),Object(M.jsx)(w.a,{className:"form-control-alternative",id:"input-username",placeholder:this.state.Username,type:"text",name:"Username",value:this.state.Username,onChange:this.handleChange})]})}),Object(M.jsx)(I.a,{lg:"6",children:Object(M.jsxs)(f.a,{children:[Object(M.jsx)("label",{className:"form-control-label",htmlFor:"input-email",children:"Email address"}),Object(M.jsx)(w.a,{className:"form-control-alternative",id:"input-email",name:"email",placeholder:this.state.email,type:"email",disabled:!0})]})})]}),Object(M.jsxs)(V.a,{children:[Object(M.jsx)(I.a,{lg:"4",children:Object(M.jsxs)(f.a,{children:[Object(M.jsx)("label",{className:"form-control-label",htmlFor:"input-first-name",children:"First name"}),Object(M.jsx)(w.a,{className:"form-control-alternative",id:"input-first-name",placeholder:this.state.first_name,type:"text",name:"first_name",value:this.state.first_name,onChange:this.handleChange})]})}),Object(M.jsx)(I.a,{lg:"4",children:Object(M.jsxs)(f.a,{children:[Object(M.jsx)("label",{className:"form-control-label",htmlFor:"input-last-name",children:"Last name"}),Object(M.jsx)(w.a,{className:"form-control-alternative",id:"input-last-name",placeholder:this.state.last_name,type:"text",name:"last_name",value:this.state.last_name,onChange:this.handleChange})]})}),Object(M.jsx)(I.a,{lg:"4",children:Object(M.jsxs)(f.a,{children:[Object(M.jsx)("label",{className:"form-control-label",htmlFor:"dateofbirth",children:"Birth Date"}),Object(M.jsx)(w.a,{className:"form-control-alternative",id:"dateofbirth",type:"date",name:"birth_date",value:this.state.birth_date,onChange:this.handleChange})]})})]})]}),Object(M.jsx)("hr",{className:"my-4"}),Object(M.jsx)("h6",{className:"heading-small text-muted mb-4",children:"Contact information"}),Object(M.jsxs)("div",{className:"pl-lg-4",children:[Object(M.jsx)(V.a,{children:Object(M.jsx)(I.a,{md:"12",children:Object(M.jsxs)(f.a,{children:[Object(M.jsx)("label",{className:"form-control-label",htmlFor:"input-address",children:"Address"}),Object(M.jsx)(w.a,{className:"form-control-alternative",id:"input-address",placeholder:this.state.address,type:"text",name:"address",value:this.state.address,onChange:this.handleChange})]})})}),Object(M.jsxs)(V.a,{children:[Object(M.jsx)(I.a,{lg:"4",children:Object(M.jsxs)(f.a,{children:[Object(M.jsx)("label",{className:"form-control-label",htmlFor:"input-city",children:"City"}),Object(M.jsx)(w.a,{className:"form-control-alternative",id:"input-city",name:"city",placeholder:this.state.city,type:"text",disabled:!0})]})}),Object(M.jsx)(I.a,{lg:"4",children:Object(M.jsxs)(f.a,{children:[Object(M.jsx)("label",{className:"form-control-label",htmlFor:"input-country",children:"Country"}),Object(M.jsx)(w.a,{className:"form-control-alternative",defaultValue:"Portugal",id:"input-country",placeholder:this.state.country,type:"text",name:"country",value:this.state.country,onChange:this.handleChange})]})}),Object(M.jsx)(I.a,{lg:"4",children:Object(M.jsxs)(f.a,{children:[Object(M.jsx)("label",{className:"form-control-label",htmlFor:"input-country",children:"Postal code"}),Object(M.jsx)(w.a,{className:"form-control-alternative",id:"input-postal-code",placeholder:"Postal code",type:this.state.postal_code,value:this.state.postal_code,name:"postal_code",onChange:this.handleChange})]})})]}),Object(M.jsx)(V.a,{children:Object(M.jsx)(I.a,{lg:"4",children:Object(M.jsxs)(f.a,{children:[Object(M.jsx)("label",{className:"form-control-label",htmlFor:"input-country",children:"Telephone"}),Object(M.jsx)(w.a,{className:"form-control-alternative",id:"input-postal-code",placeholder:this.state.telephone,value:this.state.telephone,onChange:this.handleChange,name:"telephone",type:"number"})]})})})]}),Object(M.jsx)("hr",{className:"my-4"}),Object(M.jsx)("h6",{className:"heading-small text-muted mb-4",children:"Institution"}),Object(M.jsx)("div",{className:"pl-lg-4",children:Object(M.jsxs)(V.a,{children:[Object(M.jsx)(I.a,{lg:"6",children:Object(M.jsxs)(f.a,{children:[Object(M.jsx)("label",{className:"form-control-label",htmlFor:"input-username",children:"Work Institution"}),Object(M.jsx)(w.a,{className:"form-control-alternative",id:"input-username",placeholder:this.state.work_institution,value:this.state.work_institution,onChange:this.handleChange,name:"work_institution",type:"text"})]})}),Object(M.jsx)(I.a,{lg:"6",children:Object(M.jsxs)(f.a,{children:[Object(M.jsx)("label",{className:"form-control-label",htmlFor:"input-email",children:"Profession"}),Object(M.jsx)(w.a,{className:"form-control-alternative",id:"input-email",placeholder:this.state.profession,value:this.state.profession,onChange:this.handleChange,type:"email",name:"profession"})]})})]})}),Object(M.jsx)("hr",{className:"my-4"}),Object(M.jsx)("h6",{className:"heading-small text-muted mb-4",children:"About me"}),Object(M.jsx)("div",{className:"pl-lg-4",children:Object(M.jsxs)(f.a,{children:[Object(M.jsx)("label",{children:"About Me"}),Object(M.jsx)(w.a,{className:"form-control-alternative",placeholder:"A few words about you ...",rows:"4",defaultValue:this.state.about,value:this.state.about,onChange:this.handleChange,type:"textarea",name:"about"})]})}),Object(M.jsx)("div",{className:"pl-lg-4",children:Object(M.jsx)(V.a,{className:"justify-content-center",children:Object(M.jsx)(re.a,{color:"info",href:"/#admin/user-profile",onClick:this.onSaveChanges,children:"Save Changes"})})})]})})]})})})})]})}}]),a}(c.a.Component),Je=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).getData=Object(x.a)(p.a.mark((function e(){var t,a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/all_users");case 3:return t=e.sent,e.next=6,t.json();case 6:if(0===(a=e.sent).length)s.setState((function(e){return{error:"No users to Show"}}));else if(0==s.state.edit_mode.length)for(n=0;n<a.length;n++)s.state.edit_mode.push(!1);s.setState((function(e){return{table_data:a,table_data_original:JSON.parse(JSON.stringify(a)),error:!1}})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),s.setState((function(e){return{error:"No users to Show"}}));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),s.renderArray=function(e,t){return s.state.edit_mode[parseInt(t)]?Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{scope:"row",style:{textAlign:"center"},children:Object(M.jsx)("span",{className:"mb-0 text-sm",children:e.id})}),Object(M.jsx)("th",{scope:"row",style:{textAlign:"center"},children:Object(M.jsx)("span",{className:"mb-0 text-sm",children:Object(M.jsx)(w.a,{className:"form-control-alternative",id:"Username",placeholder:e.Username,type:"text",name:"Username",value:e.Username,onChange:function(e){return s.handleChange2(e,t)}})})}),Object(M.jsx)("th",{scope:"row",style:{textAlign:"center"},children:Object(M.jsx)("span",{className:"mb-0 text-sm",children:Object(M.jsx)(w.a,{className:"form-control-alternative",id:"email",placeholder:e.email,type:"text",name:"email",value:e.email,onChange:function(e){return s.handleChange2(e,t)}})})}),Object(M.jsx)("th",{scope:"row",style:{textAlign:"center"},children:Object(M.jsx)("span",{className:"mb-0 text-sm",children:Object(M.jsx)(w.a,{className:"form-control-alternative",id:"city",placeholder:e.city,type:"text",name:"city",value:e.city,onChange:function(e){return s.handleChange2(e,t)}})})}),Object(M.jsx)("th",{scope:"row",style:{textAlign:"center"},children:Object(M.jsx)("span",{className:"mb-0 text-sm",children:Object(M.jsx)(w.a,{className:"form-control-alternative",id:"role",placeholder:e.role,type:"text",name:"role",value:e.role,onChange:function(e){return s.handleChange2(e,t)}})})}),Object(M.jsx)("th",{scope:"row",style:{textAlign:"center"},children:Object(M.jsx)("span",{className:"mb-0 text-sm",children:Object(M.jsx)(w.a,{className:"form-control-alternative",id:"input-username",placeholder:e.role_type,type:"text",name:"role_type",value:e.role_type,onChange:function(e){return s.handleChange2(e,t)}})})}),Object(M.jsx)("th",{scope:"row",style:{textAlign:"center"},children:Object(M.jsx)("span",{className:"mb-0 text-sm",children:e.last_login})}),Object(M.jsxs)("th",{scope:"row",style:{textAlign:"center"},children:[s.state.edit_mode[t]&&Object(M.jsx)(re.a,{className:"icon icon-shape bg-success text-white rounded-circle",type:"button",onClick:function(e){return s.changeUserInfo(e,t)},children:Object(M.jsx)("i",{className:"fas fa-check"})}),s.state.edit_mode[t]&&Object(M.jsx)(re.a,{className:"icon icon-shape bg-warning text-white rounded-circle",type:"button",onClick:function(e){return s.setEditMode(t,!1)},children:Object(M.jsx)("i",{className:"fas fa-times"})}),Object(M.jsx)(re.a,{className:"icon icon-shape bg-danger text-white rounded-circle",type:"button",onClick:function(t){return s.handleDelete(e.email)},children:Object(M.jsx)("i",{className:"fas fa-trash"})})]})]},t):Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{scope:"row",style:{textAlign:"center"},children:Object(M.jsx)("span",{className:"mb-0 text-sm",children:e.id})}),Object(M.jsx)("th",{scope:"row",style:{textAlign:"center"},children:Object(M.jsx)("span",{className:"mb-0 text-sm",children:e.Username})}),Object(M.jsx)("th",{scope:"row",style:{textAlign:"center"},children:Object(M.jsx)("span",{className:"mb-0 text-sm",children:e.email})}),Object(M.jsx)("th",{scope:"row",style:{textAlign:"center"},children:Object(M.jsx)("span",{className:"mb-0 text-sm",children:e.city})}),Object(M.jsx)("th",{scope:"row",style:{textAlign:"center"},children:Object(M.jsx)("span",{className:"mb-0 text-sm",children:e.role})}),Object(M.jsx)("th",{scope:"row",style:{textAlign:"center"},children:Object(M.jsx)("span",{className:"mb-0 text-sm",children:e.role_type})}),Object(M.jsx)("th",{scope:"row",style:{textAlign:"center"},children:Object(M.jsx)("span",{className:"mb-0 text-sm",children:e.last_login})}),Object(M.jsxs)("th",{scope:"row",style:{textAlign:"center"},children:[s.state.edit_mode[t]&&Object(M.jsx)(re.a,{className:"icon icon-shape bg-success text-white rounded-circle",type:"button",onClick:function(e){return s.setEditMode(t,!1)},children:Object(M.jsx)("i",{className:"fas fa-check"})}),s.state.edit_mode[t]&&Object(M.jsx)(re.a,{className:"icon icon-shape bg-warning text-white rounded-circle",type:"button",onClick:function(e){return s.setEditMode(t,!1)},children:Object(M.jsx)("i",{className:"fas fa-times"})}),Object(M.jsx)(re.a,{className:"icon icon-shape bg-yellow text-white rounded-circle",type:"button",onClick:function(e){return s.setEditMode(t,!0)},children:Object(M.jsx)("i",{className:"fas fa-pencil-alt"})}),Object(M.jsx)(re.a,{className:"icon icon-shape bg-danger text-white rounded-circle",type:"button",onClick:function(t){return s.handleDelete(e.email)},children:Object(M.jsx)("i",{className:"fas fa-trash"})})]})]},t)},s.handleClick=function(e,t){e.preventDefault(),s.state.curent_page=t,s.getData()},s.timer=null,s.toggleDrop1=s.toggleDrop1.bind(Object(F.a)(s)),s.changeValueDrop1=s.changeValueDrop1.bind(Object(F.a)(s)),s.setEditMode=s.setEditMode.bind(Object(F.a)(s)),s.NewUser=s.NewUser.bind(Object(F.a)(s)),s.handleChange=s.handleChange.bind(Object(F.a)(s)),s.handleChange2=s.handleChange2.bind(Object(F.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(F.a)(s)),s.state={table_data:[],table_data_original:[],table_buttons:[],curent_page:1,num_accidents:0,num_to_show:10,dropDown1Value:"Date/Hour",dropdownIndex:"between",dropDown1Open:!1,error:!1,edit_mode:[],addUser:!1,new_email:"",new_role:"",new_roleType:"",new_city:""},s}return Object(h.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.value,s=t.name;this.setState(Object(me.a)({},s,a))}},{key:"handleChange2",value:function(e,t){var a=e.target,s=a.value,n=a.name;this.state.table_data[t][n]=s,this.setState({})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),fetch("/add_user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.state.new_email,role:this.state.new_role,role_type:this.state.new_roleType,city:this.state.new_city})}).then((function(e){return e.json()})).then((function(e){"Done"==e.response?(t.setState({addUser:!1,new_email:"",new_role:"",new_roleType:"",new_city:""}),t.getData()):t.setState({error:e.error})}),(function(e){t.setState({isLoaded:!0,error:"error"})}))}},{key:"handleDelete",value:function(e){var t=this;fetch("/delete_user/"+e,{method:"POST"}).then((function(e){return e.json()})).then((function(e){t.getData()}))}},{key:"renderButtons",value:function(){var e=this;if(this.state.num_accidents>this.state.num_to_show){var t=[];this.state.curent_page>1&&t.push(Object(M.jsx)("li",{className:"page-item",children:Object(M.jsx)("a",{className:"page-link",onClick:function(t){return e.handleClick(t,e.state.curent_page-1)},children:Object(M.jsx)("i",{className:"fas fa-angle-left"})})}));for(var a=function(a){a==e.state.curent_page?t.push(Object(M.jsx)("li",{className:"page-item active",children:Object(M.jsx)("a",{className:"page-link",onClick:function(t){return e.handleClick(t,"".concat(a))},children:a})})):t.push(Object(M.jsx)("li",{className:"page-item",children:Object(M.jsx)("a",{className:"page-link",onClick:function(t){return e.handleClick(t,"".concat(a))},children:a})}))},s=1;s<Math.ceil(this.state.num_accidents/this.state.num_to_show)+1;s++)a(s);return this.state.curent_page<Math.ceil(this.state.num_accidents/this.state.num_to_show)&&t.push(Object(M.jsx)("li",{className:"page-item",children:Object(M.jsx)("a",{className:"page-link",onClick:function(t){return e.handleClick(t,parseInt(e.state.curent_page)+1)},children:Object(M.jsx)("i",{className:"fas fa-angle-right"})})})),Object(M.jsx)("div",{className:"row justify-content-center",children:Object(M.jsx)("nav",{"aria-label":"Page navigation example",children:Object(M.jsx)("ul",{className:"pagination",children:t})})})}}},{key:"componentDidMount",value:function(){this.getData()}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer),this.timer=null}},{key:"toggleDrop1",value:function(){this.setState({dropDown1Open:!this.state.dropDown1Open})}},{key:"changeValueDrop1",value:function(e,t){this.state.dropDown1Value=e.currentTarget.textContent,this.state.dropdownIndex="".concat(["","between","cars","people","injured","severity","status"][t]),this.getData(t)}},{key:"setEditMode",value:function(e,t){0==t&&(this.state.table_data[parseInt(e)]=JSON.parse(JSON.stringify(this.state.table_data_original[parseInt(e)]))),this.state.edit_mode[parseInt(e)]=t,this.setState((function(e){return{}}))}},{key:"changeUserInfo",value:function(e,t){var a=this;this.state.edit_mode[parseInt(t)]=!1,fetch("/update_user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Username:this.state.table_data[t].Username,email:this.state.table_data[t].email,role:this.state.table_data[t].role,role_type:this.state.table_data[t].role_type,city:this.state.table_data[t].city,last_email:this.state.table_data_original[t].email})}).then((function(e){return e.json()})).then((function(e){a.getData()}))}},{key:"NewUser",value:function(){var e=this;this.setState((function(t){return{addUser:!e.state.addUser}}))}},{key:"render",value:function(){var e=this;return this.state.error?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ne,{}),Object(M.jsx)(u.a,{className:"mt--7",fluid:!0,children:Object(M.jsx)(V.a,{className:"mt-5",children:Object(M.jsx)("div",{className:"col",children:Object(M.jsxs)(Q.a,{className:"shadow",children:[Object(M.jsx)(Y.a,{className:"bg-transparent border-0",children:Object(M.jsx)(V.a,{children:Object(M.jsx)(I.a,{children:Object(M.jsx)("div",{className:"row ml",children:Object(M.jsx)("h1",{className:"mb-0",style:{paddingLeft:20},children:"Users"})})})})}),Object(M.jsxs)("h1",{className:"text-danger mb-0",style:{textAlign:"center"},children:[" ",this.state.error]}),Object(M.jsx)("br",{})]})})})})]}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ne,{}),Object(M.jsx)(u.a,{className:"mt--7",fluid:!0,children:Object(M.jsx)(V.a,{className:"mt-5",children:Object(M.jsx)("div",{className:"col",children:Object(M.jsxs)(Q.a,{className:"shadow",children:[Object(M.jsx)(Y.a,{className:"bg-transparent border-0",children:Object(M.jsxs)(V.a,{children:[Object(M.jsx)(I.a,{children:Object(M.jsxs)("div",{className:"row ml",children:[Object(M.jsx)("h1",{className:"mb-0",style:{paddingLeft:20,paddingRight:20},children:"Users"}),Object(M.jsx)(re.a,{className:"icon icon-shape bg-green text-white rounded-circle",type:"button",onClick:function(t){return e.NewUser()},children:Object(M.jsx)("i",{className:"fas fa-plus"})})]})}),Object(M.jsx)(I.a,{children:this.renderButtons()})]})}),Object(M.jsxs)(ve.a,{bordered:!0,className:"align-items-center table-flush",hover:!0,children:[Object(M.jsx)("thead",{className:"thead-light",children:Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{scope:"col ",style:{textAlign:"center"},children:"ID"}),Object(M.jsx)("th",{scope:"col",style:{textAlign:"center"},children:"Username"}),Object(M.jsx)("th",{scope:"col",style:{textAlign:"center"},children:"Email"}),Object(M.jsx)("th",{scope:"col",style:{textAlign:"center"},children:"City"}),Object(M.jsx)("th",{scope:"col",style:{textAlign:"center"},children:"Role"}),Object(M.jsx)("th",{scope:"col",style:{textAlign:"center"},children:"Role ID"}),Object(M.jsx)("th",{scope:"col",style:{textAlign:"center"},children:"Last Login"}),Object(M.jsx)("th",{scope:"col",style:{textAlign:"center"}})]})}),Object(M.jsxs)("tbody",{children:[this.state.addUser&&Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{scope:"row",style:{textAlign:"center"}}),Object(M.jsx)("th",{scope:"row",style:{textAlign:"center"}}),Object(M.jsx)("th",{scope:"row",style:{textAlign:"center"},children:Object(M.jsx)(w.a,{placeholder:"email",type:"email",name:"new_email",value:this.state.new_email,onChange:this.handleChange,autoComplete:"new-password"})}),Object(M.jsx)("th",{scope:"row",style:{textAlign:"center"},children:Object(M.jsx)(w.a,{placeholder:"City",type:"email",name:"new_city",value:this.state.new_city,onChange:this.handleChange,autoComplete:"new-password"})}),Object(M.jsx)("th",{scope:"row",style:{textAlign:"center"},children:Object(M.jsx)(w.a,{placeholder:"Role",type:"email",name:"new_role",value:this.state.new_role,onChange:this.handleChange,autoComplete:"new-password"})}),Object(M.jsx)("th",{scope:"row",style:{textAlign:"center"},children:Object(M.jsx)(w.a,{placeholder:"Role ID",type:"email",name:"new_roleType",value:this.state.new_roleType,onChange:this.handleChange,autoComplete:"new-password"})}),Object(M.jsx)("th",{scope:"row",style:{textAlign:"center"}}),Object(M.jsxs)("th",{scope:"row",style:{textAlign:"center"},children:[Object(M.jsx)(re.a,{className:"icon icon-shape bg-warning text-white rounded-circle",type:"button",onClick:function(t){return e.NewUser()},children:Object(M.jsx)("i",{className:"fas fa-times"})}),Object(M.jsx)(re.a,{className:"icon icon-shape bg-green text-white rounded-circle",type:"button",onClick:this.handleSubmit,children:Object(M.jsx)("i",{className:"fas fa-arrow-right"})})]})]}),this.state.table_data.map(this.renderArray)]})]}),Object(M.jsx)(Y.a,{className:"bg-transparent border-0",children:Object(M.jsx)(V.a,{children:Object(M.jsx)(I.a,{className:"row justify-content-center",children:this.renderButtons()})})})]})})})})]})}}]),a}(c.a.Component),ze=(a(488),a(489),a(213),n.Component,new WebSocket("ws://127.0.0.1:5000"));ze.onmessage=function(e){!function(e){switch(e.type){case"offer":Ee.setRemoteDescription(e.offer),Ee.createAnswer((function(e){Ee.setLocalDescription(e),He({type:"send_answer",answer:e})}),(function(e){console.log(e)}));break;case"candidate":Ee.addIceCandidate(e.candidate)}}(JSON.parse(e.data))};var We=!0,Ge=!0;function He(e){e.username=Ue,ze.send(JSON.stringify(e))}function qe(){Ue=document.getElementById("username-input").value,document.getElementById("video-call-div").style.display="inline",navigator.getUserMedia({video:{frameRate:24,width:{min:480,ideal:720,max:1280},aspectRatio:1.33333},audio:!0},(function(e){Pe=e,document.getElementById("local-video").srcObject=Pe;(Ee=new RTCPeerConnection({iceServers:[{urls:["stun:stun.l.google.com:19302","stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302"]}]})).addStream(Pe),Ee.onaddstream=function(e){document.getElementById("remote-video").srcObject=e.stream},Ee.onicecandidate=function(e){null!=e.candidate&&He({type:"send_candidate",candidate:e.candidate})},He({type:"join_call"})}),(function(e){console.log(e)}))}function Qe(){We=!We,Pe.getAudioTracks()[0].enabled=We}function Ye(){Ge=!Ge,Pe.getVideoTracks()[0].enabled=Ge}n.Component;var Xe=[{path:"/index",name:"Dashboard",icon:"ni ni-tv-2 text-primary",component:ce,layout:"/admin"},{path:"/accident_details/:id",name:"Accident Details",icon:"ni ni-planet text-blue",component:Be,layout:"/admin"},{path:"/maps",name:"Maps",icon:"ni ni-pin-3 text-orange",component:ue,layout:"/admin"},{path:"/user-profile",name:"User Profile",icon:"ni ni-single-02 text-yellow",component:le,layout:"/admin"},{path:"/accidents",name:"Accidents",icon:"ni ni-ambulance text-purple",component:ye,layout:"/admin"},{path:"/login",name:"Login",icon:"ni ni-key-25 text-info",component:xe,layout:"/auth"},{path:"/register",name:"Register",icon:"ni ni-circle-08 text-pink",component:pe,layout:"/auth"},{path:"/edit_profile",name:"Edit Profile",icon:"ni ni-single-02 text-yellow",component:Re,layout:"/admin"},{path:"/users_table",name:"Users Table",icon:"ni ni-single-02 text-yellow",component:Je,layout:"/admin"}],Ze=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).getRoutes=function(e){return e.map((function(e,t){return"/admin"===e.layout?Object(M.jsx)(o.b,{path:e.layout+e.path,component:e.component},t):null}))},e.getBrandText=function(t){for(var a=0;a<Xe.length;a++)if(-1!==e.props.location.pathname.indexOf(Xe[a].layout+Xe[a].path))return Xe[a].name;return"Brand"},e}return Object(h.a)(n,[{key:"componentDidUpdate",value:function(e){document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,this.refs.mainContent.scrollTop=0}},{key:"render",value:function(){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(J,Object(s.a)(Object(s.a)({},this.props),{},{routes:Xe,logo:{innerLink:"/admin/index",imgSrc:a(214),imgAlt:"..."}})),Object(M.jsxs)("div",{className:"main-content",ref:"mainContent",children:[Object(M.jsx)(T,Object(s.a)(Object(s.a)({},this.props),{},{brandText:this.getBrandText(this.props.location.pathname)})),Object(M.jsx)(o.d,{children:this.getRoutes(Xe)}),Object(M.jsx)(o.a,{to:"/admin/index"}),Object(M.jsx)(u.a,{fluid:!0,children:Object(M.jsx)(L,{})})]})]})}}]),n}(c.a.Component),Ke=function(e){Object(j.a)(s,e);var t=Object(b.a)(s);function s(){return Object(d.a)(this,s),t.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(O.a,{className:"navbar-top navbar-horizontal navbar-dark",expand:"md",children:Object(M.jsxs)(u.a,{className:"px-4",children:[Object(M.jsx)(U.a,{children:Object(M.jsx)("img",{alt:"...",src:a(505)})}),Object(M.jsx)("button",{className:"navbar-toggler",id:"navbar-collapse-main",children:Object(M.jsx)("span",{className:"navbar-toggler-icon"})}),Object(M.jsxs)(De.a,{navbar:!0,toggler:"#navbar-collapse-main",children:[Object(M.jsx)("div",{className:"navbar-collapse-header d-md-none",children:Object(M.jsxs)(V.a,{children:[Object(M.jsx)(I.a,{className:"collapse-brand",xs:"6",children:Object(M.jsx)(l.b,{to:"/",children:Object(M.jsx)("img",{alt:"...",src:a(214)})})}),Object(M.jsx)(I.a,{className:"collapse-close",xs:"6",children:Object(M.jsxs)("button",{className:"navbar-toggler",id:"navbar-collapse-main",children:[Object(M.jsx)("span",{}),Object(M.jsx)("span",{})]})})]})}),Object(M.jsxs)(_.a,{className:"ml-auto",navbar:!0,children:[Object(M.jsx)(P.a,{children:Object(M.jsxs)(E.a,{className:"nav-link-icon",href:"https://rodrigo740.github.io/",target:"_blank",children:[Object(M.jsx)("i",{className:"ni ni-planet"}),Object(M.jsx)("span",{className:"nav-link-inner--text",children:"Site"})]})}),Object(M.jsx)(P.a,{children:Object(M.jsxs)(E.a,{className:"nav-link-icon",to:"/auth/login",tag:l.b,children:[Object(M.jsx)("i",{className:"ni ni-key-25"}),Object(M.jsx)("span",{className:"nav-link-inner--text",children:"Login"})]})}),Object(M.jsx)(P.a,{children:Object(M.jsxs)(E.a,{className:"nav-link-icon",to:"/auth/register",tag:l.b,children:[Object(M.jsx)("i",{className:"ni ni-circle-08"}),Object(M.jsx)("span",{className:"nav-link-inner--text",children:"Register"})]})})]})]})]})})})}}]),s}(c.a.Component),$e=function(e){Object(j.a)(s,e);var t=Object(b.a)(s);function s(){return Object(d.a)(this,s),t.apply(this,arguments)}return Object(h.a)(s,[{key:"render",value:function(){return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)("footer",{className:"py-5",children:Object(M.jsx)(u.a,{children:Object(M.jsxs)(V.a,{className:"align-items-center justify-content-xl-between",children:[Object(M.jsx)(I.a,{xl:"6",children:Object(M.jsxs)("div",{className:"copyright text-center text-xl-left text-muted",children:["2020"," ",Object(M.jsx)("a",{className:"font-weight-bold ml-1",href:"https://rodrigo740.github.io/",target:"_blank",children:"Project ARC Team"})]})}),Object(M.jsx)(I.a,{xl:"2",children:Object(M.jsx)("div",{className:"copyright text-center  text-muted",children:Object(M.jsx)("a",{href:"https://www.bosch.pt/",target:"_blank",children:Object(M.jsx)("img",{id:"grayscale",alt:"...",className:"grayscale",height:45,width:125,src:a(146)})})})}),Object(M.jsx)(I.a,{xl:"2",children:Object(M.jsx)("div",{className:"copyright text-center  text-muted",children:Object(M.jsx)("a",{href:"https://www.it.pt",target:"_blank",children:Object(M.jsx)("img",{alt:"...",className:"grayscale",height:45,width:125,src:a(147)})})})}),Object(M.jsx)(I.a,{xl:"2",children:Object(M.jsx)("div",{className:"copyright text-center  text-muted",children:Object(M.jsx)("a",{href:"https://www.ua.pt",target:"_blank",children:Object(M.jsx)("img",{alt:"...",className:"grayscale",height:45,width:125,src:a(148)})})})})]})})})})}}]),s}(c.a.Component),et=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).getRoutes=function(e){return e.map((function(e,t){return"/auth"===e.layout?Object(M.jsx)(o.b,{path:e.layout+e.path,component:e.component},t):null}))},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){document.body.classList.add("bg-default")}},{key:"componentWillUnmount",value:function(){document.body.classList.remove("bg-default")}},{key:"render",value:function(){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)("div",{className:"main-content",children:[Object(M.jsx)(Ke,{}),Object(M.jsxs)("div",{className:"header bg-gradient-info py-7 py-lg-8",children:[Object(M.jsx)(u.a,{children:Object(M.jsx)("div",{className:"header-body text-center mb-7",children:Object(M.jsx)(V.a,{className:"justify-content-center",children:Object(M.jsxs)(I.a,{lg:"5",md:"6",children:[Object(M.jsx)("h1",{className:"text-white",children:"Welcome!"}),Object(M.jsxs)("p",{className:"text-lead text-light",children:["Log in into your account.",Object(M.jsx)("br",{}),"If you still do not have an account, please register."]})]})})})}),Object(M.jsx)("div",{className:"separator separator-bottom separator-skew zindex-100",children:Object(M.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 2560 100",x:"0",y:"0",children:Object(M.jsx)("polygon",{className:"fill-default",points:"2560 0 2560 100 0 100"})})})]}),Object(M.jsx)(u.a,{className:"mt--8 pb-5",children:Object(M.jsx)(V.a,{className:"justify-content-center",children:Object(M.jsxs)(o.d,{children:[this.getRoutes(Xe),Object(M.jsx)(o.a,{from:"*",to:"/auth/login"})]})})})]}),Object(M.jsx)($e,{})]})}}]),a}(c.a.Component);i.a.render(Object(M.jsx)(l.a,{hashType:"noslash",children:Object(M.jsxs)(o.d,{children:[Object(M.jsx)(o.b,{strict:!0,path:"/admin",render:function(e){return Object(M.jsx)(Ze,Object(s.a)({},e))}}),Object(M.jsx)(o.b,{strict:!0,path:"/auth",render:function(e){return Object(M.jsx)(et,Object(s.a)({},e))}}),Object(M.jsx)(o.a,{to:"/auth/login"})]})}),document.getElementById("root"))},54:function(e,t,a){var s=a(94);s.elements.Rectangle.prototype.draw=function(){var e,t,a,s,n,c,r,i=this._chart.ctx,l=this._view,o=l.borderWidth;if(l.horizontal?(e=l.base,t=l.x,a=l.y-l.height/2,s=l.y+l.height/2,n=t>e?1:-1,c=1,r=l.borderSkipped||"left"):(e=l.x-l.width/2,t=l.x+l.width/2,a=l.y,n=1,c=(s=l.base)>a?1:-1,r=l.borderSkipped||"bottom"),o){var d=Math.min(Math.abs(e-t),Math.abs(a-s)),h=(o=o>d?d:o)/2,j=e+("left"!==r?h*n:0),b=t+("right"!==r?-h*n:0),u=a+("top"!==r?h*c:0),m=s+("bottom"!==r?-h*c:0);j!==b&&(a=u,s=m),u!==m&&(e=j,t=b)}i.beginPath(),i.fillStyle=l.backgroundColor,i.strokeStyle=l.borderColor,i.lineWidth=o;var p=[[e,s],[e,a],[t,a],[t,s]],x=["bottom","left","top","right"].indexOf(r,0);function O(e){return p[(x+e)%4]}-1===x&&(x=0);var g=O(0);i.moveTo(g[0],g[1]);for(var f=1;f<4;f++){g=O(f);var v=f+1;4===v&&(v=0);var N,y=p[2][0]-p[1][0],w=p[0][1]-p[1][1],_=p[1][0],k=p[1][1];(N=6)>w/2&&(N=w/2),N>y/2&&(N=y/2),i.moveTo(_+N,k),i.lineTo(_+y-N,k),i.quadraticCurveTo(_+y,k,_+y,k+N),i.lineTo(_+y,k+w-N),i.quadraticCurveTo(_+y,k+w,_+y-N,k+w),i.lineTo(_+N,k+w),i.quadraticCurveTo(_,k+w,_,k+w-N),i.lineTo(_,k+N),i.quadraticCurveTo(_,k,_+N,k)}i.fill(),o&&i.stroke()};var n="Open Sans",c={100:"#f6f9fc",200:"#e9ecef",300:"#dee2e6",400:"#ced4da",500:"#adb5bd",600:"#8898aa",700:"#525f7f",800:"#32325d",900:"#212529"},r={default:"#172b4d",primary:"#5e72e4",secondary:"#f4f5f7",info:"#11cdef",success:"#2dce89",danger:"#f5365c",warning:"#fb6340"},i="#FFFFFF",l="transparent";var o={options:{scales:{yAxes:[{gridLines:{color:c[900],zeroLineColor:c[900]},ticks:{callback:function(e){if(!(e%10))return e+"k"}}}]},tooltips:{callbacks:{label:function(e,t){var a=t.datasets[e.datasetIndex].label||"",s=e.yLabel,n="";return t.datasets.length>1&&(n+=a),n+=s+"k"}}}},data1:function(e){return{labels:["May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Performance",data:[Math.floor(1e3*Math.random()),Math.floor(1e3*Math.random()),Math.floor(1e3*Math.random()),Math.floor(1e3*Math.random()),Math.floor(1e3*Math.random()),Math.floor(1e3*Math.random()),Math.floor(1e3*Math.random()),Math.floor(1e3*Math.random()),Math.floor(1e3*Math.random())]}]}},data2:function(e){return{labels:["May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Performance",data:[Math.floor(60*Math.random()),Math.floor(60*Math.random()),Math.floor(60*Math.random()),Math.floor(60*Math.random()),Math.floor(60*Math.random()),Math.floor(60*Math.random()),Math.floor(60*Math.random()),Math.floor(60*Math.random()),Math.floor(60*Math.random())]}]}}},d={options:{scales:{yAxes:[{ticks:{callback:function(e){if(!(e%10))return e}}}]},tooltips:{callbacks:{label:function(e,t){var a=t.datasets[e.datasetIndex].label||"",s=e.yLabel,n="";return t.datasets.length>1&&(n+=a),n+=s}}}},data:{labels:["Lis","Port","Av","Leir","Vis","Faro"],datasets:[{label:"Sales",data:[Math.floor(60*Math.random()),Math.floor(60*Math.random()),Math.floor(60*Math.random()),Math.floor(60*Math.random()),Math.floor(60*Math.random()),Math.floor(60*Math.random())],maxBarThickness:10}]}};e.exports={chartOptions:function(){var e={defaults:{global:{responsive:!0,maintainAspectRatio:!1,defaultColor:c[600],defaultFontColor:c[600],defaultFontFamily:n,defaultFontSize:13,layout:{padding:0},legend:{display:!1,position:"bottom",labels:{usePointStyle:!0,padding:16}},elements:{point:{radius:0,backgroundColor:r.primary},line:{tension:.4,borderWidth:4,borderColor:r.primary,backgroundColor:l,borderCapStyle:"rounded"},rectangle:{backgroundColor:r.warning},arc:{backgroundColor:r.primary,borderColor:i,borderWidth:4}},tooltips:{enabled:!0,mode:"index",intersect:!1}},doughnut:{cutoutPercentage:83,legendCallback:function(e){var t=e.data,a="";return t.labels.forEach((function(e,s){var n=t.datasets[0].backgroundColor[s];a+='<span class="chart-legend-item">',a+='<i class="chart-legend-indicator" style="background-color: '+n+'"></i>',a+=e,a+="</span>"})),a}}}};return s.scaleService.updateScaleDefaults("linear",{gridLines:{borderDash:[2],borderDashOffset:[2],color:c[300],drawBorder:!1,drawTicks:!1,lineWidth:0,zeroLineWidth:0,zeroLineColor:c[300],zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{beginAtZero:!0,padding:10,callback:function(e){if(!(e%10))return e}}}),s.scaleService.updateScaleDefaults("category",{gridLines:{drawBorder:!1,drawOnChartArea:!1,drawTicks:!1},ticks:{padding:20}}),e},parseOptions:function e(t,a){for(var s in a)"object"!==typeof a[s]?t[s]=a[s]:e(t[s],a[s])},chartExample1:o,chartExample2:d}},64:function(e,t,a){}},[[506,1,2]]]);
//# sourceMappingURL=main.dcb3e35c.chunk.js.map